{"version":3,"sources":["webpack:///./src/components/pluginfree/NOSKeypad.vue?9950","webpack:///./src/components/pluginfree/NOSKeypad.vue","webpack:///./src/components/pluginfree/NOSKeypad.vue?d726","webpack:///./src/components/pluginfree/NOSKeypad.vue?f573"],"names":["class","_createElementVNode","_createElementBlock","id","$data","data-width","iw","data-height","ih","style","$options","type","onMousemove","keypadUuid","ref","src","alt","tabindex","_Fragment","key","onClick","KEYPAD","_hoisted_5","_hoisted_6","touch","use","_createBlock","_Transition","onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave","preview","_createVNode","data-left","text","dx","data-top","dy","dw","dh","data-font-size","spanFontSize","_renderList","buttonGroup","index","aria-hidden","buttons","button","jindex","data-action","action","aria-label","role","onTouch","model","prop","event","props","input","HTMLInputElement","required","keyset","Object","uuid","String","absoluteUse","Boolean","default","data","useyn","useynInput","parent","this","$parent","seedkey","value","hash","formatted","infoValue","hashKey","infoKey","useFormatter","useTextPreview","textPreview","info","items","resizeRatio","isVisible","showPreview","previewDuration","npConfig","previewStyles","stopPreviewTransition","previewTransitionTimer","isPreviewAnimating","showTouchDiv","touchDuration","stopTouchTransition","touchTransitionTimer","selectedButtonGroup","attrs","elementName","elementForm","useMultiCursor","showMultiCursorCover","CONFIG","isMobile","npDefine","isMobileDevice","realWidth","realHeight","computed","isUseAria","ret","debugData","val","created","$attrs","name","_uid","npCommon","eraseSpecialChars","init","params","prepareKeypad","createKeypad","mounted","window","addEventListener","handleResize","beforeDestroy","removeEventListener","methods","calculateRatio","calculatePosition","resize","resizeRadio","bodyWidth","innerWidth","bodyHeight","innerHeight","imageWidth","rate","doResize","newWidth","inputdiv","keypaddiv","document","getElementById","parentdiv","found","tempdiv","parentElement","nodeName","toLowerCase","getAttribute","includes","opt","mode","tw","th","position","x","y","deltax","deltay","assign","resized","bwidth","bheight","newHeight","kwidth","parseInt","kheight","pos1","getBoundingClientRect","pos2","ele3","$emit","left","posx","scrollTop","pageYOffset","documentElement","body","posy","top","posy1","height","posy2","posy3","attr","makeKpdGroupStyles","group","styles","display","width","Math","floor","overflow","makeKpdStyles","makeKpdWrapStyles","whitSpace","makeKpdButtonBaseStyles","coords","bw","bh","makeKpdImageMarginTop","margin","makeKpdImageStyles","marginTop","border","makeKpdButtonStyles","coord","x1","y1","x2","y2","makeKpdTouchStyles","backgroundColor","color","opacity","filter","makeKpdPreviewStyles","backgroundImage","makeKpdTextStyles","tstyle","split","forEach","kv","trim","length","fontSize","makeKpdTextSpanStyles","spanStyle","buttonCoord","buttonPreCoord","preCoord","buttonLabel","label","classList","contains","av","E2E_ATTR_NAME","seedkey3rd","msVersion","navigator","userAgent","match","msie","_isOldIe","documentMode","_isVeryOldIe","_this","keypadConst","TYPE_KEYPAD","TYPE_KEYBOARD","TYPE_KOREAN","ENABLE_FOCUS","ENABLE_RADIO","ENABLE_CHECKBOX","ENABLE_TOGGLE","SHOW_LAYER","SHOW_BLOCK","SHOW_DIVISION","SHOW_EXTEND_UI","EXEC_PLAIN","EXEC_PASSWORD","EXEC_CONFIRM","EXEC_AMOUNT","EXEC_ACCOUNT","EXEC_NUMBER","EXEC_SAFECARD","EXEC_REPLACE","prefix","p","m","u","ev","d","jv","version","eletype","keypadtype","t","alert","npMessage","m46","actiontype","at","extendui","KEYPAD_EXTEND_UI","st","dp","showtype","useyntype","useyninput","isBlank","m77","replace","ut","ui","toggleActive","toggleOn","toggleOff","ta","to","tf","$refs","keys","some","children","console","log","remove","add","inputrange","ir","usepreview","up","f","i","il","ni","tx","ty","cf","ln","w","offsetWidth","h","offsetHeight","ar","usemapping","makeimageurl","APPLICATION_URL","indexOf","full","location","protocol","hostname","port","um","ip","post","then","obj","JSON","parse","dynamic","Array","isArray","item","k","v","startsWith","range","FORMATTER","setAttribute","win","sf","initMultiCursor","focusmode","clear","handleButtonAction","subaction","substring","layer","hide","close","ival","hval","comma","formatterType","doEnter","n","linkArray","linkUrl","tmpUrl","target","push","join","open","subdata","n2b","touchEventMode","touchEventImage","maxlength","idx","disvalue","fromCharCode","charCodeAt","textValue","hashValue","orgValue","arrTmp","npHangul","splitWord","returnString","composeHangul","encvalue","encrypt","hexDecode","nextelement","datalength","focus","capslock","shift","enter","jscript","execScript","e","isNull","touchInfo","delta","div1","$el","getElementsByClassName","touchPreview","div2","anotherButtons","btn","ri","round","random","timeout","div","preCoords","sx","ceil","sy","ex","ey","viewWidth","viewHeight","backgroundRepeat","backgroundPosition","backgroundSize","onTouchBeforeEnter","el","clearInterval","onTouchEnter","done","onTouchAfterEnter","onTouchBeforeLeave","onTouchLeave","setInterval","onTouchAfterLeave","previewtop","previewborder","onPreviewBeforeEnter","onPreviewEnter","onPreviewAfterEnter","onPreviewBeforeLeave","onPreviewLeave","onPreviewAfterLeave","onMultiCursorMove","kpddiv","vx","scrollX","scrollLeft","vy","scrollY","centerx","centery","pageX","pageY","newx1","newy1","newx2","newy2","c1div","c2div","cursor","onMultiCursorClick","serialize","inputs","getHash","getInfo","getText","getValue","fromFocus","$nextTick","setValue","elm","setColor","textColor","backColor","show","COLOR","setUseYn","first","isUseYn","oldUseYn","SECUKEY","__exports__","render"],"mappings":"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","file":"js/chunk-ede19774.51828596.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NOSKeypad.vue?vue&type=style&index=0&id=e6521e34&lang=css\"","<template>\r\n  <div\r\n    v-show=\"isVisible\"\r\n    :id=\"id\"\r\n    class=\"nppfs-keypad\"\r\n    :data-width=\"info.iw\"\r\n    :data-height=\"info.ih\"\r\n    :style=\"makeKpdStyles()\"\r\n  >\r\n    \r\n    <div\r\n      :class=\"['kpd-wrap', info.type, useMultiCursor ? 'kpd-multi-cursor' : '']\"\r\n      :style=\"makeKpdWrapStyles()\"\r\n      @mousemove=\"onMultiCursorMove\"\r\n    >\r\n      <img\r\n        v-if=\"isUseAria\"\r\n        :id=\"info.keypadUuid + '_bg_img'\"\r\n        :ref=\"info.keypadUuid + '_bg_img'\"\r\n        style=\"\r\n          position: absolute;\r\n          left: 0;\r\n          top: 0;\r\n          border: 0px;\r\n          width: 100%;\r\n          height: 100%;\r\n        \"\r\n        src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALI7fhAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAApJREFUCJljYAAAAAIAAfRxZKYAAAAASUVORK5CYII=\"\r\n        alt=\"키패드\"\r\n        :tabindex=\"isUseAria ? 0 : ''\"\r\n      />\r\n\r\n      <template v-if=\"useMultiCursor\">\r\n        <div v-show=\"showMultiCursorCover\" class=\"kpd-cover cursor-cover\"></div>\r\n        <div\r\n          v-show=\"showMultiCursorCover\"\r\n          class=\"kpd-cover click-cover\"\r\n          @click=\"onMultiCursorClick\"\r\n        >\r\n          <img\r\n            class=\"click-image\"\r\n            :src=\"CONFIG.KEYPAD['kpd-multi-cursor-image']\"\r\n          />\r\n        </div>\r\n        <div class=\"cursor cursor1\"></div>\r\n        <div class=\"cursor cursor2\"></div>\r\n      </template>\r\n      <template v-if=\"info.touch && info.touch.use\">\r\n        <transition\r\n          @before-enter=\"onTouchBeforeEnter\"\r\n          @enter=\"onTouchEnter\"\r\n          @after-enter=\"onTouchAfterEnter\"\r\n          @before-leave=\"onTouchBeforeLeave\"\r\n          @leave=\"onTouchLeave\"\r\n          @after-leave=\"onTouchAfterLeave\"\r\n        >\r\n          <div v-show=\"showTouchDiv\" class=\"kpd-touch\">\r\n            <div class=\"kpd-button touch1\" :style=\"makeKpdTouchStyles()\"></div>\r\n            <div class=\"kpd-button touch2\" :style=\"makeKpdTouchStyles()\"></div>\r\n          </div>\r\n        </transition>\r\n      </template>\r\n      <template v-if=\"info.preview && info.preview.use\">\r\n        <div class=\"kpd-preview\">\r\n          <transition\r\n            @before-enter=\"onPreviewBeforeEnter\"\r\n            @enter=\"onPreviewEnter\"\r\n            @after-enter=\"onPreviewAfterEnter\"\r\n            @before-leave=\"onPreviewBeforeLeave\"\r\n            @leave=\"onPreviewLeave\"\r\n            @after-leave=\"onPreviewAfterLeave\"\r\n          >\r\n            <div\r\n              v-show=\"showPreview\"\r\n              :class=\"['preview', info.type]\"\r\n              :style=\"makeKpdPreviewStyles()\"\r\n            ></div>\r\n          </transition>\r\n        </div>\r\n      </template>\r\n      <template v-if=\"useTextPreview\">\r\n        <div\r\n          class=\"kpd-text\"\r\n          :data-left=\"info.text.dx\"\r\n          :data-top=\"info.text.dy\"\r\n          :data-width=\"info.text.dw\"\r\n          :data-height=\"info.text.dh\"\r\n          :data-font-size=\"info.text.spanFontSize\"\r\n          :style=\"makeKpdTextStyles()\"\r\n        >\r\n          <span class=\"textfield\" :style=\"makeKpdTextSpanStyles()\">{{\r\n            textPreview\r\n          }}</span>\r\n        </div>\r\n      </template>\r\n      \r\n      <template v-for=\"(buttonGroup, index) in items\" :key=\"index\">\r\n        <div\r\n          v-show=\"buttonGroup.id === selectedButtonGroup\"\r\n          :ref=\"'kpd-group-' + buttonGroup.id\"\r\n          :class=\"['kpd-group', buttonGroup.id]\"\r\n          :style=\"makeKpdGroupStyles(buttonGroup, index)\"\r\n        >\r\n          <img\r\n            class=\"kpd-image-button\"\r\n            :style=\"makeKpdImageStyles(makeKpdImageMarginTop(buttonGroup))\"\r\n            aria-hidden=\"true\"\r\n            :src=\"info.src\"\r\n          />\r\n          <template v-for=\"(button, jindex) in buttonGroup.buttons\" :key=\"jindex\">\r\n            <img\r\n              class=\"kpd-data\"\r\n              :style=\"\r\n                makeKpdButtonStyles(button, makeKpdImageMarginTop(buttonGroup))\r\n              \"\r\n              :data-action=\"button.action\"\r\n              src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALI7fhAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAApJREFUCJljYAAAAAIAAfRxZKYAAAAASUVORK5CYII=\"\r\n              :alt=\"isUseAria ? buttonLabel(button) : ''\"\r\n              :aria-label=\"isUseAria ? buttonLabel(button) : ''\"\r\n              :tabindex=\"isUseAria ? 0 : ''\"\r\n              :role=\"isUseAria ? 'button' : ''\"\r\n              @click=\"handleButtonAction(button, buttonGroup, jindex)\"\r\n              @touch=\"handleButtonAction(button, buttonGroup, jindex)\"\r\n            />\r\n            <!-- <template v-if=\"isUseAria\">\r\n            </template>\r\n            <template v-else>\r\n              <img\r\n                class=\"kpd-data\"\r\n                :key=\"jindex\"\r\n                :style=\"makeKpdButtonStyles(button, makeKpdImageMarginTop(buttonGroup))\"\r\n                :alt=\"buttonLabel(button)\"\r\n                :data-coords=\"buttonCoord(button)\"\r\n                :pre-coords=\"buttonPreCoord(button)\"\r\n                :precoords=\"buttonPreCoord(button)\"\r\n                :data-action=\"button.action\"\r\n                src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALI7fhAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAApJREFUCJljYAAAAAIAAfRxZKYAAAAASUVORK5CYII=\"\r\n                @click=\"handleButtonAction(button, buttonGroup, jindex)\"\r\n                @touch=\"handleButtonAction(button, buttonGroup, jindex)\"\r\n              />\r\n            </template> -->\r\n          </template>\r\n        </div>\r\n      </template>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { npDefine, npCommon, npMessage, npHangul } from './npCommon';\r\nimport npConfig from './nos.config.js';\r\n// import npConfig from './nos.config'\r\n// const npConfig = require(\"@/../nos.config\");\r\n// const npConfig = require(\"@/../nos.config\");\r\n\r\n// https://stackoverflow.com/questions/48250832/programmatically-bind-custom-events-for-dynamic-components-in-vuejs/48251122\r\n\r\nexport default {\r\n  model: {\r\n    prop: 'value',\r\n    event: 'update',\r\n  },\r\n  props: {\r\n    input: {\r\n      type: HTMLInputElement,\r\n      required: true,\r\n    },\r\n    keyset: {\r\n      type: Object,\r\n      required: true,\r\n    },\r\n    uuid: {\r\n      type: String,\r\n      required: true,\r\n    },\r\n    absoluteUse: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      useyn: false,\r\n      useynInput: null,\r\n      parent: this.$parent.$parent,\r\n\r\n      seedkey: '',\r\n\r\n      value: { value: '', hash: '', formatted: '' },\r\n      // textValue : \"\",\r\n      // hashValue : \"\",\r\n      // formatterValue : \"\",\r\n\r\n      infoValue: '',\r\n      hashKey: '',\r\n      infoKey: '',\r\n      useFormatter: false,\r\n      useTextPreview: false,\r\n      textPreview: '',\r\n\r\n      info: {},\r\n      items: [],\r\n      data: {},\r\n      resizeRatio: 1,\r\n      isVisible: false,\r\n\r\n      showPreview: false,\r\n      previewDuration: npConfig.KEYPAD['kpd-preview-timeout'] || 3000,\r\n      previewStyles: {},\r\n      stopPreviewTransition: false,\r\n      previewTransitionTimer: null,\r\n      isPreviewAnimating: false,\r\n\r\n      showTouchDiv: false,\r\n      touchDuration: 1000,\r\n      stopTouchTransition: false,\r\n      touchTransitionTimer: null,\r\n\r\n      selectedButtonGroup: '',\r\n\r\n      attrs: {},\r\n      elementName: '',\r\n      elementForm: 'document-body',\r\n      id: '',\r\n\r\n      useMultiCursor: false,\r\n      showMultiCursorCover: false,\r\n      CONFIG: npConfig,\r\n      isMobile: npDefine.isMobileDevice(),\r\n\r\n      realWidth: 0,\r\n      realHeight: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    isUseAria() {\r\n      let ret = false;\r\n      if (npConfig.KEYPAD['kpd-use-aria-mobile']) {\r\n        if (npDefine.isMobileDevice()) {\r\n          ret = true;\r\n          // ariaAttr = \"tabindex=\\\"0\\\" \";\r\n        }\r\n      } else if (npConfig.KEYPAD['kpd-use-aria']) {\r\n        ret = true;\r\n        // ariaAttr = \"tabindex=\\\"0\\\" \";\r\n      }\r\n      return ret;\r\n    },\r\n    debugData() {\r\n      return this.val();\r\n    },\r\n  },\r\n  created() {\r\n    // console.log(\"Parent : \", this.input);\r\n\r\n    this.attrs = this.input.$attrs;\r\n    this.elementName =\r\n      this.input.name || this.input.id || 'element-' + this.input._uid;\r\n    // this.elementForm = this.input.form ? this.input.form.name || \"document-body\" : \"document-body\";\r\n    this.id = 'nppfs-keypad-' + npCommon.eraseSpecialChars(this.elementName);\r\n\r\n    // console.log(\"Parent Input : \", this.input.$attrs);\r\n    this.init();\r\n    const params = this.prepareKeypad();\r\n    this.createKeypad(params);\r\n  },\r\n  mounted() {\r\n    // console.log(\"ready...\");\r\n    window.addEventListener('resize', this.handleResize);\r\n  },\r\n  beforeDestroy() {\r\n    // console.log(\"beforeDestroy...\");\r\n    window.removeEventListener('resize', this.handleResize);\r\n  },\r\n  methods: {\r\n    handleResize(event) {\r\n      this.calculateRatio();\r\n      this.calculatePosition();\r\n    },\r\n    calculateRatio() {\r\n      this.resizeRatio = 1;\r\n      if (this.info) {\r\n        this.realWidth = this.info.iw;\r\n        this.realHeight = this.info.ih;\r\n\r\n        if (this.info.iw && this.info.resize && this.info.resizeRadio > 0) {\r\n          // const bodyWidth = document.documentElement.clientWidth;\r\n          // const bodyHeight = document.documentElement.clientHeight;\r\n          // const bodyWidth = document.body.clientWidth;\r\n          // const bodyHeight = document.body.clientHeight;\r\n          // const bodyWidth = window.screen.width;\r\n          // const bodyHeight = window.screen.height;\r\n          const bodyWidth = window.innerWidth;\r\n          const bodyHeight = window.innerHeight;\r\n          const imageWidth = this.info.iw;\r\n          // const imageHeight = this.info.ih;\r\n          let rate = this.info.resizeRadio / 100;\r\n          let doResize = false;\r\n          // console.log(\r\n          //   \"Client Width/Height\", bodyWidth, bodyHeight,\r\n          //   \"Image W/H\", imageWidth, imageHeight,\r\n          //   \"Resized Body W\", bodyWidth * rate);\r\n\r\n          const newWidth = bodyWidth * rate;\r\n          rate = newWidth / imageWidth;\r\n          // const newHeight = Math.floor(imageHeight * rate);\r\n\r\n          // 축소하기\r\n          if (newWidth < imageWidth) {\r\n            doResize = true;\r\n          }\r\n          // 확대하기(모바일 세로보기일 때만)\r\n          else if (\r\n            npDefine.isMobileDevice() &&\r\n            bodyWidth <= bodyHeight &&\r\n            newWidth >= imageWidth\r\n          ) {\r\n            doResize = true;\r\n          }\r\n\r\n          if (doResize) {\r\n            // console.log('[' + newWidth + '][' + newHeight + '][' + bodyWidth + '][' + bodyHeight + '][' + rate + ']');\r\n            this.resizeRatio = rate;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    calculatePosition() {\r\n      const inputdiv = this.input;\r\n      const keypaddiv = document.getElementById(this.id);\r\n      // console.log(\"Keypad Div \", this.$el.getBoundingClientRect());\r\n      // console.log(\"Keypad Div \", this.id);\r\n      let parentdiv = null;\r\n      if (keypaddiv) {\r\n        // console.log(\"Keypad Div 1\", keypaddiv.getBoundingClientRect());\r\n        let found = false;\r\n        let tempdiv = keypaddiv;\r\n        do {\r\n          tempdiv = tempdiv.parentElement;\r\n          const nodeName = tempdiv ? tempdiv.nodeName.toLowerCase() : '';\r\n          // console.log(\"find tempdiv 111\", tempdiv, tempdiv.nodeName);\r\n          if (tempdiv) {\r\n            if (tempdiv && nodeName === 'body') {\r\n              // console.log(\"find parent 333\", tempdiv);\r\n              break;\r\n            }\r\n            if (\r\n              nodeName === 'div' &&\r\n              tempdiv.getAttribute('class').includes('nppfs-keypad-div')\r\n            ) {\r\n              // console.log(\"find tempdiv 222\", tempdiv);\r\n              parentdiv = tempdiv;\r\n              found = true;\r\n            }\r\n          } else {\r\n            // console.log(\"find parent 4444\", tempdiv);\r\n            break;\r\n          }\r\n        } while (!found);\r\n\r\n        if (found && parentdiv) {\r\n          // console.log(\"find parent 555\", parentdiv);\r\n        }\r\n      }\r\n\r\n      if (inputdiv && keypaddiv && parentdiv) {\r\n        // console.log(\"Parent Input \", inputdiv.getBoundingClientRect());\r\n        // console.log(\"Keypad Div \", keypaddiv.getBoundingClientRect());\r\n        // console.log(\"Parent Div\", parentdiv.getBoundingClientRect());\r\n\r\n        const opt = {\r\n          mode: 'layer',\r\n          tw: 0,\r\n          th: 0,\r\n          resize: true,\r\n          resizeRadio: 90,\r\n        };\r\n        const position = { x: 'default', y: 'default', deltax: 0, deltay: 5 };\r\n        Object.assign(opt, { ...this.info });\r\n        Object.assign(position, { ...this.info.position });\r\n\r\n        // console.log(\"opt\", opt, this.info);\r\n        // console.log(\"this.info.position\", this.info.position);\r\n        // console.log(\"position\", position);\r\n\r\n        if (opt.mode === 'layer' || opt.mode === 'extendui') {\r\n          const resized = this.resizeRatio !== 1;\r\n          // browser\r\n          const bwidth = window.innerWidth;\r\n          const bheight = window.innerHeight;\r\n          // keypad\r\n          const newWidth = this.info.iw * this.resizeRatio;\r\n          const newHeight = this.info.ih * this.resizeRatio;\r\n          const kwidth = parseInt(newWidth, 10);\r\n          const kheight = parseInt(newHeight, 10);\r\n\r\n          this.realWidth = kwidth;\r\n          this.realHeight = kheight;\r\n\r\n          // console.log(\"Keypad Position Options \", opt);\r\n          // console.log(\"kwidth\", kwidth, \"bwidth\", bwidth)\r\n\r\n          // 입력양식\r\n          const pos1 = inputdiv.getBoundingClientRect();\r\n\r\n          // 부모 키패드 DIV\r\n          const pos2 = parentdiv.getBoundingClientRect();\r\n\r\n          // 현재 키패드 DIV\r\n          const ele3 = keypaddiv;\r\n          // const pos3 = keypaddiv.getBoundingClientRect();\r\n\r\n          this.$emit('resize');\r\n\r\n          if (opt.mode === 'layer') {\r\n            if (position.x === 'left') {\r\n              if (resized) {\r\n                ele3.style.left = (bwidth - kwidth) / 2 - pos2.left + 'px';\r\n              } else {\r\n                ele3.style.left = position.deltax - pos2.left + 'px';\r\n              }\r\n            } else if (position.x === 'right') {\r\n              if (resized) {\r\n                ele3.style.left = (bwidth - kwidth) / 2 - pos2.left + 'px';\r\n              } else {\r\n                ele3.style.left =\r\n                  bwidth - kwidth - position.deltax - pos2.left + 'px';\r\n              }\r\n            } else if (position.x === 'center') {\r\n              if (resized) {\r\n                ele3.style.left = (bwidth - kwidth) / 2 - pos2.left + 'px';\r\n              } else {\r\n                ele3.style.left =\r\n                  (bwidth - kwidth) / 2 + position.deltax - pos2.left + 'px';\r\n              }\r\n            } else if (resized) {\r\n              const posx = (bwidth - kwidth) / 2 - pos2.left;\r\n              ele3.style.left = posx + 'px';\r\n            } else {\r\n              let posx = pos1.left - pos2.left + position.deltax;\r\n              if (posx + kwidth + pos2.left + 10 > bwidth) {\r\n                posx = bwidth - kwidth - pos2.left - 10;\r\n                // console.log(\"111 pos2.left\", pos2.left, \"kwidth\", kwidth, \"bwidth\", bwidth, \"posx\", posx);\r\n              }\r\n              if (posx < -1 * pos2.left) {\r\n                // console.log(\"kwidth 333\", kwidth, \"bwidth\", bwidth)\r\n                posx = -1 * pos2.left;\r\n              }\r\n              ele3.style.left = posx + 'px';\r\n            }\r\n          }\r\n\r\n          const scrollTop = !window.pageYOffset\r\n            ? !(document.documentElement.scrollTop === 0)\r\n              ? document.documentElement.scrollTop\r\n              : document.body.scrollTop\r\n            : window.pageYOffset;\r\n          if (position.y === 'top') {\r\n            const posy = scrollTop + position.deltay - pos2.top;\r\n            ele3.style.top = posy + 'px';\r\n          } else if (position.y === 'bottom') {\r\n            const posy =\r\n              scrollTop + bheight - kheight - position.deltay - pos2.top;\r\n            ele3.style.top = posy + 'px';\r\n          } else if (position.y === 'middle') {\r\n            ele3.style.top =\r\n              scrollTop +\r\n              (bheight - kheight) / 2 +\r\n              position.deltay -\r\n              pos2.top +\r\n              'px';\r\n          } else if (position.y === 'auto') {\r\n            let posy = 0;\r\n            // 입력양식 위치기준 키패드 높이를 합친 하단위치\r\n            const posy1 = pos1.top + pos1.height + kheight + position.deltay;\r\n            // 입력양식 위치기준 키패드 높이를 뺀 상단위치\r\n            const posy2 = pos1.top - kheight - position.deltay;\r\n            // 스크롤 왼쪽상단\r\n            const posy3 = scrollTop;\r\n            //      console.log('[' + pos1.top + '][' + pos1.height + '][position.deltay]-[' + posy1 + '][' + posy2 + '][' + posy3 + '][' + bheight + '][' + kheight + ']');\r\n            if (posy1 > posy3 + bheight) {\r\n              if (posy2 < posy3) {\r\n                posy = pos1.top + pos1.height - pos2.top + position.deltay;\r\n              } else {\r\n                posy = pos1.top - kheight - pos2.top - position.deltay;\r\n              }\r\n            } else {\r\n              posy = pos1.top + pos1.height - pos2.top + position.deltay;\r\n            }\r\n            ele3.style.top = posy + 'px';\r\n            //      console.debug('POS 1 : ' + posy1 + ', ' + posy2 + ', ' + posy3 + ' ');\r\n          } else {\r\n            const posy = pos1.top + pos1.height - pos2.top + position.deltay;\r\n            ele3.style.top = posy + 'px';\r\n          }\r\n        }\r\n        // ele3.style.width = kwidth + \\\"px\\\";\r\n      }\r\n    },\r\n    attr(key) {\r\n      return this.input.getAttribute(key);\r\n      // return this.attrs[key];\r\n    },\r\n\r\n    makeKpdGroupStyles(group, index) {\r\n      const styles = {};\r\n      styles.position = 'relative';\r\n      styles.display = index === 0 ? 'block' : 'none';\r\n      styles.width = Math.floor(this.resizeRatio * this.info.iw) + 'px';\r\n      styles.height = Math.floor(this.resizeRatio * this.info.ih) + 'px';\r\n      styles.overflow = 'hidden';\r\n      return styles;\r\n    },\r\n    makeKpdStyles() {\r\n      const styles = {};\r\n      styles.position = 'absolute';\r\n      styles.whitSpace = 'normal';\r\n      if (this.info) {\r\n        styles.width = Math.floor(this.resizeRatio * this.info.iw) + 'px';\r\n        styles.height = Math.floor(this.resizeRatio * this.info.ih) + 'px';\r\n      }\r\n      return styles;\r\n    },\r\n    makeKpdWrapStyles() {\r\n      const styles = {};\r\n      styles.position = 'relative';\r\n      styles.width = Math.floor(this.resizeRatio * this.info.iw) + 'px';\r\n      styles.height = Math.floor(this.resizeRatio * this.info.ih) + 'px';\r\n      styles.whitSpace = 'normal';\r\n      return styles;\r\n    },\r\n\r\n    makeKpdButtonBaseStyles() {\r\n      const styles = {};\r\n      styles.position = 'absolute';\r\n      styles.width = Math.floor(this.resizeRatio * this.info.coords.bw) + 'px';\r\n      styles.height = Math.floor(this.resizeRatio * this.info.coords.bh) + 'px';\r\n      styles.overflow = 'hidden';\r\n      // styles.border = \"1px solid #f88\";\r\n      return styles;\r\n    },\r\n    makeKpdImageMarginTop(group) {\r\n      let margin = 0;\r\n      if (group.id === 'upper') {\r\n        margin = Math.floor(this.resizeRatio * this.info.ih);\r\n      } else if (group.id === 'special') {\r\n        margin = Math.floor(this.resizeRatio * this.info.ih * 2);\r\n      }\r\n      return margin;\r\n    },\r\n    makeKpdImageStyles(margin) {\r\n      const styles = {};\r\n      styles.marginTop = -1 * margin + 'px';\r\n      styles.position = 'absolute';\r\n      styles.left = 0;\r\n      styles.top = 0;\r\n      styles.border = 0;\r\n      styles.width = Math.floor(this.resizeRatio * this.info.iw * 2) + 'px';\r\n      styles.height = Math.floor(this.resizeRatio * this.info.ih) + 'px';\r\n      if (this.info.type === 'keyboard') {\r\n        styles.height = Math.floor(this.resizeRatio * this.info.ih * 3) + 'px';\r\n      }\r\n      return styles;\r\n    },\r\n\r\n    makeKpdButtonStyles(button, marginTop) {\r\n      const styles = this.makeKpdButtonBaseStyles();\r\n      styles.position = 'absolute';\r\n      styles.left = Math.floor(this.resizeRatio * button.coord.x1) + 'px';\r\n      styles.top =\r\n        Math.floor(this.resizeRatio * button.coord.y1 - marginTop) + 'px';\r\n      styles.width =\r\n        Math.floor(this.resizeRatio * (button.coord.x2 - button.coord.x1)) +\r\n        'px';\r\n      styles.height =\r\n        Math.floor(this.resizeRatio * (button.coord.y2 - button.coord.y1)) +\r\n        'px';\r\n      // styles.border = '1px solid #ff0000';\r\n      return styles;\r\n    },\r\n    makeKpdTouchStyles() {\r\n      const styles = this.makeKpdButtonBaseStyles();\r\n      styles.backgroundColor = this.info.touch.color;\r\n      // styles.backgroundImage = \"url('\" + this.info.src + \"')\";\r\n      styles.opacity = this.info.touch.opacity / 100;\r\n      styles.filter = 'alpha(opacity=' + this.info.touch.opacity + ')';\r\n      return styles;\r\n    },\r\n    makeKpdPreviewStyles() {\r\n      const styles = this.previewStyles || {};\r\n      styles.backgroundImage = 'url(' + this.info.src + ')';\r\n      return styles;\r\n    },\r\n\r\n    makeKpdTextStyles() {\r\n      const styles = {};\r\n      const tstyle = this.info.text.style.split(';');\r\n      tstyle.forEach((style) => {\r\n        const kv = style.trim().split(':');\r\n        if (kv.length >= 2) {\r\n          styles[kv[0].trim()] = kv[1].trim();\r\n        }\r\n      });\r\n\r\n      styles.position = 'absolute';\r\n      styles.width = Math.floor(this.resizeRatio * this.info.text.dw) + 'px';\r\n      styles.height = Math.floor(this.resizeRatio * this.info.text.dh) + 'px';\r\n      styles.left = Math.floor(this.resizeRatio * this.info.text.dx) + 'px';\r\n      styles.top = Math.floor(this.resizeRatio * this.info.text.dy) + 'px';\r\n      styles.fontSize =\r\n        Math.floor(this.resizeRatio * this.info.text.spanFontSize) + 'px';\r\n      return styles;\r\n    },\r\n\r\n    makeKpdTextSpanStyles() {\r\n      const styles = {};\r\n      const tstyle = this.info.text.spanStyle.split(';');\r\n      tstyle.forEach((style) => {\r\n        const kv = style.split(':');\r\n        if (kv.length >= 2) {\r\n          styles[kv[0]] = kv[1];\r\n        }\r\n      });\r\n      return styles;\r\n    },\r\n\r\n    buttonCoord(button) {\r\n      const coord = button.coord;\r\n      return coord.x1 + ',' + coord.y1 + ',' + coord.x2 + ',' + coord.y2;\r\n    },\r\n    buttonPreCoord(button) {\r\n      const coord = button.preCoord;\r\n      return coord.x1 + ',' + coord.y1 + ',' + coord.x2 + ',' + coord.y2;\r\n    },\r\n    buttonLabel(button) {\r\n      return button.label || '키패드';\r\n    },\r\n\r\n    init() {\r\n      this.seedkey = this.keyset.seedkey;\r\n\r\n      if (this.input.classList.contains('nppfs-npv')) return;\r\n\r\n      const av = this.attr(npConfig.E2E_ATTR_NAME);\r\n      if (\r\n        npConfig.KEYPAD['kpd-e2e-mode'] === 'inca-double-encrypt' &&\r\n        av === 'db'\r\n      ) {\r\n        this.seedkey = this.keyset.seedkey3rd;\r\n      }\r\n\r\n      const msVersion = navigator.userAgent.match(/MSIE ([0-9]{1,}[.0-9]{0,})/);\r\n      const msie = !!msVersion;\r\n      this._isOldIe =\r\n        (msie && parseInt(msVersion[1], 10) <= 8) || document.documentMode <= 8;\r\n      this._isVeryOldIe =\r\n        (msie && parseInt(msVersion[1], 10) <= 7) || document.documentMode <= 7;\r\n    },\r\n\r\n    prepareKeypad(mode) {\r\n      const _this = this;\r\n      const type = this.input.type || 'text';\r\n\r\n      function attr(key) {\r\n        return _this.attr(key);\r\n      }\r\n\r\n      const ret = {};\r\n      const keypadConst = {\r\n        TYPE_KEYPAD: 'p',\r\n        TYPE_KEYBOARD: 'b',\r\n        TYPE_KOREAN: 'k',\r\n        ENABLE_FOCUS: 'f',\r\n        ENABLE_RADIO: 'r',\r\n        ENABLE_CHECKBOX: 'c',\r\n        ENABLE_TOGGLE: 't',\r\n        SHOW_LAYER: 'l',\r\n        SHOW_BLOCK: 'b',\r\n        SHOW_DIVISION: 'd',\r\n        SHOW_EXTEND_UI: 'u',\r\n        EXEC_PLAIN: 'l',\r\n        EXEC_PASSWORD: 'p',\r\n        EXEC_CONFIRM: 'c',\r\n        EXEC_AMOUNT: 'm',\r\n        EXEC_ACCOUNT: 'a',\r\n        EXEC_NUMBER: 'n',\r\n        EXEC_SAFECARD: 's',\r\n        EXEC_REPLACE: 'r',\r\n      };\r\n\r\n      // // 현대카드 UI확장기능(라온의 attribute를 NOS attribute로 변경) by YGKIM 2015.09.10\r\n      // if(!!__extensions && typeof(__extensions.keypadUiModifier) == \"function\") {\r\n      //   //console.log(\"현대카드 UI확장기능(라온의 attribute를 NOS attribute로 변경) by YGKIM 2015.09.10\");\r\n      //   __extensions.keypadUiModifier(element);\r\n      // }\r\n\r\n      const prefix = 'data-keypad-';\r\n      // var useyninput = attr(prefix + \"useyn\");\r\n\r\n      ret.p = 'p';\r\n      ret.m = mode || 'e';\r\n      ret.u = this.uuid;\r\n      ret.ev = 'v4';\r\n      ret.d = 'nppfs-keypad-div';\r\n      ret.jv = npConfig.KEYPAD.version;\r\n\r\n      const eletype = type.toLowerCase();\r\n      const keypadtype = attr(prefix + 'type') || 'num';\r\n      if (keypadtype === 'alpha') {\r\n        ret.t = keypadConst.TYPE_KEYBOARD;\r\n      } else if (keypadtype === 'korean') {\r\n        ret.t = keypadConst.TYPE_KOREAN;\r\n      } else {\r\n        ret.t = keypadConst.TYPE_KEYPAD;\r\n      }\r\n\r\n      // <%--\r\n      // // 치환값을 그대로 보여주는 것으로 변경, KCP요청사항\r\n      //     // 문자형키패드는 텍스트입력양식에서는 사용할 수 없음\r\n      // //    if(keypadtype == \"alpha\" && eletype == \"text\"){\r\n      // //      console.log(npMessage.m45);\r\n      // //      task.setState(npPfsConst.STATE_DONE);\r\n      // //      return;\r\n      // //    }\r\n      // --%>\r\n      // 한글키패드는 암호입력양식에서는 사용할 수 없음\r\n      if (keypadtype === 'korean' && eletype === 'password') {\r\n        alert(npMessage.m46);\r\n        // console.log(npMessage.m46);\r\n        // task.setState(npPfsConst.STATE_DONE);\r\n        return;\r\n      }\r\n\r\n      const actiontype = attr(prefix + 'action');\r\n      if (actiontype === 'account') {\r\n        ret.at = keypadConst.EXEC_ACCOUNT;\r\n      } else if (actiontype === 'amount') {\r\n        // if(eletype == \"text\" || eletype == \"tel\") {\r\n        ret.at = keypadConst.EXEC_AMOUNT;\r\n        // } else {\r\n        //   ret[\"at\"] = keypadConst.EXEC_REPLACE;\r\n        // }\r\n        //    } else if(actiontype == \"safecard\") {\r\n        //      ret[\"at\"] = keypadConst.EXEC_SAFECARD;\r\n        //    } else if(actiontype == \"confirm\") {\r\n        //      ret[\"at\"] = keypadConst.EXEC_CONFIRM;\r\n      } else if (actiontype === 'number') {\r\n        ret.at = keypadConst.EXEC_NUMBER;\r\n      } else if (actiontype === 'replace') {\r\n        ret.at = keypadConst.EXEC_REPLACE;\r\n      } else if (\r\n        keypadtype === 'num' &&\r\n        (eletype === 'text' || eletype === 'tel')\r\n      ) {\r\n        ret.at = keypadConst.EXEC_NUMBER;\r\n      } else if (keypadtype === 'alpha' && eletype === 'text') {\r\n        ret.at = keypadConst.EXEC_PLAIN;\r\n      } else if (actiontype === 'password' || actiontype === 'pin') {\r\n        ret.at = keypadConst.EXEC_PASSWORD;\r\n      } else {\r\n        ret.at = keypadConst.EXEC_REPLACE;\r\n      }\r\n\r\n      const extendui = attr(prefix + 'extend-ui');\r\n      if (extendui && npConfig.KEYPAD_EXTEND_UI[extendui]) {\r\n        ret.st = keypadConst.SHOW_EXTEND_UI;\r\n        ret.dp = 'show';\r\n      } else {\r\n        const showtype = attr(prefix + 'show');\r\n        if (showtype === 'div') {\r\n          ret.st = keypadConst.SHOW_DIVISION;\r\n          ret.dp = 'show';\r\n        } else if (showtype === 'block') {\r\n          ret.st = keypadConst.SHOW_BLOCK;\r\n          ret.dp = 'hide';\r\n        } else {\r\n          ret.st = keypadConst.SHOW_LAYER;\r\n          ret.dp = 'hide';\r\n        }\r\n      }\r\n\r\n      const useyntype = attr(prefix + 'useyn-type');\r\n      const useyninput = attr(prefix + 'useyn-input');\r\n\r\n      // \"version\" : \"1.13.0\",\r\n      // \"use-npk\" : true,\r\n      // \"kpd-run-type\" : \"dual\",\r\n\r\n      // if(npConfig.KEYPAD[\"use-npk\"]) {\r\n      //   if(npConfig.KEYPAD[\"kpd-run-type\"] !== \"dual\") {\r\n      //     // 키보드보안이 실행중이고\r\n      //     if(npKCtrl.isRunning()) {\r\n      //       return;\r\n      //     }\r\n\r\n      //     // 키보드보안이 미실행중이고 활성화방식이 미지정인경우 focus로 지정하여 마우스입력기 강제사용.\r\n      //     if(npCommon.isBlank(useyntype)) {\r\n      //       useyntype = \"focus\";\r\n      //     }\r\n      //   } else {\r\n      //     var av = attr(npConfig.E2E_ATTR_NAME);\r\n      //     if(av === \"mo\") {\r\n      //       if(npCommon.isBlank(useyntype) || npCommon.isBlank(useyninput)) {\r\n      //         useyntype = \"focus\";\r\n      //       }\r\n      //     } else if(npKCtrl.isRunning()) {\r\n      //       if(npConfig.KEYPAD[\"kpd-useyn-type\"] === \"toggle\") {\r\n      //         if(npCommon.isBlank(useyntype) || npCommon.isBlank(useyninput)) {\r\n      //           useyntype = \"toggle\";\r\n      //           useyninput = npCommon.eraseSpecialChars(this.elementName) + \"_\" + npQuery(form).attr(\"name\") + \"_toggle_\";\r\n      //         }\r\n      //       } else if(npConfig.KEYPAD[\"kpd-useyn-type\"] === \"checkbox\") {\r\n      //         if(npCommon.isBlank(useyntype) || npCommon.isBlank(useyninput)) {\r\n      //           useyntype = \"checkbox\";\r\n      //           useyninput = npCommon.eraseSpecialChars(this.elementName) + \"_\" + npQuery(form).attr(\"name\") + \"_checkbox_\";\r\n      //         }\r\n      //       } else {\r\n      //         if(!npCommon.isBlank(useyntype) && npCommon.isBlank(useyninput)) {\r\n      //           alert(npMessage.m77.replace(\"%p1%\", this.elementName).replace(\"%p1%\", prefix + \"useyn-input\"));\r\n      //         }\r\n      //       }\r\n      //       var executetype = attr(\"npexecutetype\");\r\n      //       if(executetype== \"v\"){\r\n      //         useyntype = \"focus\";\r\n      //       }else if(npCommon.isBlank(useyntype) || useyntype == \"focus\" || !npCommon.isBlank(useyntype) && npCommon.isBlank(useyninput)) {\r\n      //         //console.log(\"마우스입력기 등록 취소 : \" + this.elementName);\r\n      //         return;\r\n      //       }\r\n      //     } else {\r\n      //       if(npCommon.isBlank(useyntype) || npCommon.isBlank(useyninput)) {\r\n      //         useyntype = \"focus\";\r\n      //       }\r\n      //     }\r\n      //   }\r\n      // }\r\n\r\n      if (\r\n        !npCommon.isBlank(useyntype) &&\r\n        useyntype !== 'focus' &&\r\n        npCommon.isBlank(useyninput)\r\n      ) {\r\n        alert(\r\n          npMessage.m77\r\n            .replace('%p1%', this.elementName)\r\n            .replace('%p1%', prefix + 'useyn-input'),\r\n        );\r\n        return;\r\n      }\r\n      // console.log(\"[\" + elementName + \"][\" + useyntype + \"][\" + useyninput + \"][\"+(\"data-keypad-useyn-input\" == prefix + \"useyn-input\")+\"]\");\r\n\r\n      if (useyntype === 'toggle') {\r\n        ret.ut = keypadConst.ENABLE_TOGGLE;\r\n        ret.ui = useyninput;\r\n        const toggleActive = attr(prefix + 'toggle-active');\r\n        let toggleOn = attr(prefix + 'toggle-on');\r\n        let toggleOff = attr(prefix + 'toggle-off');\r\n\r\n        toggleOn = npCommon.isBlank(toggleOn)\r\n          ? npConfig.KEYPAD['kpd-toggle-image-on']\r\n          : toggleOn;\r\n        toggleOff = npCommon.isBlank(toggleOff)\r\n          ? npConfig.KEYPAD['kpd-toggle-image-off']\r\n          : toggleOff;\r\n        ret.ta = npCommon.isBlank(toggleActive) ? 'false' : toggleActive;\r\n        ret.to = toggleOn;\r\n        ret.tf = toggleOff;\r\n\r\n        // console.log(\"Toggle\", this.parent.$refs);\r\n        let found = false;\r\n        if (this.parent.$refs) {\r\n          Object.keys(this.parent.$refs).some((key) => {\r\n            const children = this.parent.$refs[key];\r\n            // console.log(children.id, useyninput);\r\n            if (children && key === useyninput) {\r\n              found = true;\r\n              this.useynInput = children;\r\n              return false;\r\n            }\r\n            return true;\r\n          });\r\n        }\r\n        if (found) {\r\n          // console.log(\"UseYn Input\", this.useynInput);\r\n        } else {\r\n          console.log(\r\n            '지정된 사용여부설정 입력양식을 찾을 수 없습니다. Vue에서는 동적 사용여부설정 자동생성 기능이 제공되지 않습니다.',\r\n          );\r\n          ret.ut = keypadConst.ENABLE_FOCUS;\r\n        }\r\n\r\n        // let button = npCommon.findElement(useyninput, this.elementForm);\r\n        // if(npCommon.isNull(button)) {\r\n        //   if(npConfig.KEYPAD[\"kpd-useyn-type\"] === \"toggle\") {\r\n        //     let template = npConfig.KEYPAD[\"kpd-toggle-template\"];\r\n        //     template = template.split(\"#id#\").join(useyninput);\r\n        //     template = template.split(\"#image#\").join(toggleOff);\r\n        //     // npQuery(element).after(npQuery(\"<span>\"+ template + \"</span>\"));\r\n        //     // npQuery(element).attr({\"data-keypad-useyn-type\" : \"toggle\", \"data-keypad-useyn-input\" : useyninput}).addClass(\"nppfs-dynamic-field\");\r\n        //   }\r\n        // }\r\n      } else if (useyntype === 'checkbox') {\r\n        // alert(useyninput + \"[\"+(\"data-keypad-useyn-input\" == prefix + \"useyn-input\")+\"]\");\r\n        // ret[\"ut\"] = keypadConst.ENABLE_CHECKBOX;\r\n        // ret[\"ui\"] = useyninput;\r\n        console.log(\r\n          'ratio 타입의 사용여부설정 기능은 Vue에서는 제공되지 않습니다.',\r\n        );\r\n        ret.ut = keypadConst.ENABLE_FOCUS;\r\n        /*\r\n        let button = npCommon.findElement(useyninput, this.elementForm);\r\n        if(npCommon.isNull(button)) {\r\n          if(npConfig.KEYPAD[\"kpd-useyn-type\"] === \"checkbox\") {\r\n            let template = npConfig.KEYPAD[\"kpd-checkbox-template\"];\r\n            template = template.split(\"#id#\").join(useyninput);\r\n            template = template.split(\"#image#\").join(toggleOff);\r\n            // npQuery(element).after(npQuery(\"<span>\"+ template + \"</span>\"));\r\n            // npQuery(element).attr({\"data-keypad-useyn-type\" : \"checkbox\", \"data-keypad-useyn-input\" : useyninput}).addClass(\"nppfs-dynamic-field\");\r\n          }\r\n        }\r\n        */\r\n      } else if (useyntype === 'radio') {\r\n        // ret[\"ut\"] = keypadConst.ENABLE_RADIO;\r\n        // ret[\"ui\"] = useyninput;\r\n        console.log(\r\n          'ratio 타입의 사용여부설정 기능은 Vue에서는 제공되지 않습니다.',\r\n        );\r\n        ret.ut = keypadConst.ENABLE_FOCUS;\r\n      } else {\r\n        // 활성화방식이 미지정인경우 focus로 지정하여 마우스입력기 강제사용.\r\n        ret.ut = keypadConst.ENABLE_FOCUS;\r\n\r\n        this.useyn = true;\r\n        // this.input.readOnly = true;\r\n        this.input.classList.remove(npConfig.KEYPAD['kpd-active-class']);\r\n        this.input.classList.add(npConfig.KEYPAD['kpd-active-class']);\r\n      }\r\n\r\n      const inputrange = attr(prefix + 'input-range');\r\n      if (keypadtype === 'alpha' && !npCommon.isBlank(inputrange)) {\r\n        ret.ir = inputrange;\r\n      }\r\n\r\n      const usepreview = attr(prefix + 'preview');\r\n      if (!npCommon.isBlank(usepreview)) {\r\n        ret.up = usepreview;\r\n      }\r\n\r\n      // ret[\"f\"] = npQuery(form).attr(\"data-nppfs-form-id\");\r\n      ret.f = this.elementForm;\r\n      ret.i = this.elementName;\r\n      ret.il = attr('maxlength');\r\n      ret.ni = attr(prefix + 'next');\r\n      ret.th = attr(prefix + 'theme');\r\n      ret.x = attr(prefix + 'x');\r\n      ret.y = attr(prefix + 'y');\r\n      ret.tx = attr(prefix + 'type-x');\r\n      ret.ty = attr(prefix + 'type-y');\r\n      ret.cf = attr(prefix + 'enter');\r\n      ret.ln = attr(prefix + 'language');\r\n      ret.w = document.body.offsetWidth;\r\n      ret.h = document.body.offsetHeight;\r\n\r\n      // 2017.01.05 시각 장애인 지원\r\n      if (npConfig.KEYPAD['kpd-use-aria']) {\r\n        if (npConfig.KEYPAD['kpd-use-aria-mobile']) {\r\n          ret.ar = npDefine.isMobileDevice() ? 'true' : 'false';\r\n        } else {\r\n          ret.ar = 'true';\r\n        }\r\n      } else {\r\n        ret.ar = attr(prefix + 'aria');\r\n      }\r\n\r\n      // 2018.07.03 데이터 맵핑 pjh -> mapping , ui 변경\r\n      const usemapping = attr(prefix + 'mapping');\r\n      if (!npCommon.isBlank(usemapping)) {\r\n        ret.um = usemapping;\r\n      }\r\n\r\n      function makeimageurl() {\r\n        let src = npConfig.APPLICATION_URL;\r\n        if (\r\n          src.indexOf('http:') !== 0 &&\r\n          src.indexOf('https:') !== 0 &&\r\n          src.indexOf('//:') !== 0\r\n        ) {\r\n          const full =\r\n            location.protocol +\r\n            '//' +\r\n            location.hostname +\r\n            (location.port ? ':' + location.port : '');\r\n          src = full + src;\r\n        }\r\n        return src + '?p=p';\r\n      }\r\n      ret.ip = makeimageurl();\r\n\r\n      // console.log(\".....\", npConfig.isAbsoluteUse())\r\n      if (this.absoluteUse === true) {\r\n        this.useyn = true;\r\n        // this.input.readOnly = true;\r\n      }\r\n\r\n      // var taskName = \"task_\" + npQuery(element.form).attr(\"name\") + \"_\" + npQuery(element).attr(\"name\");\r\n      // if(npCommon.indexOf(remainTask, taskName) < 0) {\r\n      //   remainTask.push(taskName);\r\n      // }\r\n\r\n      // console.log(ret);\r\n      return ret;\r\n    },\r\n\r\n    createKeypad(params) {\r\n      const _this = this;\r\n      npCommon.post(params).then((data) => {\r\n        // console.log(data);\r\n\r\n        // 응답값에 따른 데이터 전처리\r\n        if (typeof data === 'object') {\r\n          _this.info = data.info;\r\n          _this.items = data.items;\r\n        } else if (typeof data === 'string') {\r\n          const obj = JSON.parse(data);\r\n          _this.info = obj.info;\r\n          _this.items = obj.items;\r\n        }\r\n\r\n        // 동적 필드.\r\n        if (this.info.dynamic && Array.isArray(this.info.dynamic)) {\r\n          this.info.dynamic.forEach((item, index) => {\r\n            let key = item.k;\r\n            const val = item.v;\r\n\r\n            if (key.startsWith('__KI_')) {\r\n              const av = this.attr(npConfig.E2E_ATTR_NAME);\r\n              const name = this.elementName;\r\n              if (\r\n                npConfig.KEYPAD['kpd-e2e-mode'] === 'inca-double-encrypt' &&\r\n                av === 'db'\r\n              ) {\r\n                key = '__KIEXT_' + name;\r\n              }\r\n              this.infoKey = key;\r\n              this.infoValue = val;\r\n            } else if (key.startsWith('__KH_')) {\r\n              this.hashKey = key;\r\n            }\r\n          });\r\n        }\r\n\r\n        // 처음에 보일 키패드 형태(대문자,소문자,특수문자,숫자)\r\n\r\n        // console.log(\"Range \" + _this.id, _this.info.range);\r\n\r\n        if (!_this.selectedButtonGroup) {\r\n          if (_this.info.type === 'keyboard') {\r\n            _this.selectedButtonGroup = 'lower';\r\n            const range = _this.info.range;\r\n            if (range && range.startsWith('lower')) {\r\n              _this.selectedButtonGroup = 'lower';\r\n            } else if (range && range.startsWith('upper')) {\r\n              _this.selectedButtonGroup = 'upper';\r\n            } else if (range && range.startsWith('special')) {\r\n              _this.selectedButtonGroup = 'special';\r\n            }\r\n          } else {\r\n            _this.selectedButtonGroup = 'number';\r\n          }\r\n        }\r\n\r\n        // 값 표시 형식 사용여부\r\n        if (\r\n          typeof npConfig.FORMATTER === 'function' &&\r\n          this.attr('nppfs-formatter-type')\r\n        ) {\r\n          this.useFormatter = true;\r\n        }\r\n        // console.log(\"this.useFormatter\", this.useFormatter, this.attr(\"nppfs-formatter-type\"));\r\n\r\n        // 입력값 미리보기\r\n        _this.useTextPreview =\r\n          _this.info.text &&\r\n          _this.info.text.use === true &&\r\n          _this.attr('data-keypad-text') === 'on';\r\n        // console.log(\"this.useTextPreview : \", this.useTextPreview);\r\n\r\n        // this.input.$attrs[\"nppfs-npv\"] = \"true\";\r\n        // this.input.$el.classList.add(\"nppfs-npv\");\r\n        this.input.setAttribute('nppfs-npv', 'true');\r\n        this.input.classList.add('nppfs-npv');\r\n        // console.log(this.input.$attrs);\r\n        // console.log(this.input);\r\n\r\n        // 다중 마우스 커서\r\n        if (npConfig.KEYPAD['kpd-multi-cursor']) {\r\n          _this.useMultiCursor =\r\n            true &&\r\n            !npDefine.isMobileDevice() && // PC 환경에서만 다중커서 사용가능(모바일은 커서 자체가 없음)\r\n            !(npDefine.win && npDefine.sf) && // 오래된 브라우저인 윈도우 사파리 브라우저에서는 cursor=none;이 동작안함\r\n            !(npDefine.win && this._isOldIe); // 오래된 브라우저인 윈도우 IE8 이하 브라우저에서는 cursor=none;이 동작안함\r\n        }\r\n        // 다중 마우스 커서 이벤트 등록\r\n        if (this.useMultiCursor) {\r\n          this.initMultiCursor();\r\n        }\r\n        // console.log(\"this.useuseMultiCursor\", this.useMultiCursor);\r\n\r\n        // 포커스 모드가 clear 일 경우 값 초기화\r\n        if (_this.info.focusmode === 'clear') {\r\n          // console.log(\"clear.......111......\");\r\n          _this.clear(false);\r\n        }\r\n\r\n        // 이미지 비율 계산\r\n        this.calculateRatio();\r\n\r\n        //                // 데이터 맵핑 데이터 저장\r\n        //               if (!npCommon.isNull(json.actionItems)) {\r\n        //                 var key= json.actionItems.substring(0,64);\r\n        //                 var data = json.actionItems.substring(64);\r\n        //                 var val = npCommon.decrypt(npCommon.hexDecode(data), npCommon.hexDecode(key), \"ECB\", AES.blackSizeInBits);\r\n        //                 var action = JSON.parse(val);\r\n        //                 putActionItems(element, action);\r\n        //               }\r\n\r\n        //               var executetype =npQuery(element).attr(\"npexecutetype\");\r\n        //               if((typeof(executetype) != \"undefined\" && executetype.indexOf(\"k\") == -1) && (typeof(npKCtrl) != \"undefined\" && npKCtrl.isRunning())){\r\n        //                 if(executetype == \"v\"){\r\n        //                   npVCtrl.setKeypadUse(npQuery(element).attr(\"name\"),true);\r\n        //                 }\r\n        //               }\r\n\r\n        //               npQuery(document).trigger({\r\n        //                 type: \"nppfs-npv-after-regist-field\"\r\n        //                 , message: npMessage.m78.replace(\"%p1%\", element.name)\r\n        //                 , target : element\r\n        //                 , form : npQuery(form).attr(\"name\")\r\n        //                 , name : element.name\r\n        //                 , time: new Date()\r\n        //               });\r\n      });\r\n    },\r\n\r\n    handleButtonAction(button, group, index) {\r\n      const action = button.action;\r\n      if (!action) return;\r\n\r\n      if (action.startsWith('action')) {\r\n        const subaction = action.substring(7);\r\n        // console.log(subaction);\r\n\r\n        if (subaction.startsWith('show')) {\r\n          const layer = subaction.substring(5);\r\n          this.selectedButtonGroup = layer;\r\n        } else if (subaction.startsWith('hide')) {\r\n          this.hide();\r\n        } else if (subaction.startsWith('close')) {\r\n          this.close();\r\n        } else if (subaction.startsWith('delete')) {\r\n          const ival = this.value.value;\r\n          const hval = this.value.hash;\r\n\r\n          this.value.value = ival.substring(0, ival.length - 1);\r\n          this.value.hash = hval.substring(0, hval.length - 96);\r\n\r\n          this.value.formatted = this.value.value;\r\n          if (this.attr('data-keypad-action') === 'amount') {\r\n            this.value.formatted = npCommon.comma(this.value.value);\r\n          } else if (\r\n            typeof npConfig.FORMATTER !== 'undefined' &&\r\n            typeof npConfig.FORMATTER === 'function'\r\n          ) {\r\n            const formatterType = this.attr('nppfs-formatter-type');\r\n            this.value.formatted = formatterType\r\n              ? npConfig.FORMATTER(formatterType, this.value.value, true)\r\n              : this.value.value;\r\n          }\r\n          this.textPreview = this.useTextPreview\r\n            ? this.value.formatted\r\n            : this.value.value;\r\n\r\n          this.$emit('update', this.val());\r\n          // $element.trigger({ type : 'keypress', which : 8, keyCode : 8 });\r\n          // $element.trigger({ type : 'keyup', which : 8, keyCode : 8 });\r\n        } else if (subaction.startsWith('clear')) {\r\n          this.value.value = '';\r\n          this.value.hash = '';\r\n          this.value.formatted = '';\r\n\r\n          if (this.useTextPreview) {\r\n            this.textPreview = '';\r\n          }\r\n\r\n          this.$emit('update', this.val());\r\n\r\n        } else if (subaction.startsWith('enter')) {\r\n          this.doEnter();\r\n        } else if (subaction.startsWith('refresh')) {\r\n          const params = this.prepareKeypad('s');\r\n          params.n = this.info.keypadUuid;\r\n          this.createKeypad(params);\r\n        } else if (subaction.startsWith('link')) {\r\n          const linkArray = subaction.split('|');\r\n          let linkUrl = '';\r\n          const tmpUrl = [];\r\n          const target = linkArray[1];\r\n\r\n          if (linkArray.length > 3) {\r\n            for (let i = 2; i < linkArray.length; i++) {\r\n              tmpUrl.push(linkArray[i]);\r\n            }\r\n            linkUrl = tmpUrl.join('|');\r\n          } else {\r\n            linkUrl = linkArray[2];\r\n          }\r\n\r\n          window.open(linkUrl, target);\r\n        }\r\n      } else if (action.startsWith('data')) {\r\n        const subdata = action.substring(5);\r\n\r\n        // 터치모드 추가 2016.10.27 SJO\r\n        if (this.info.touch.use === true && !this.useMultiCursor) {\r\n          this.touch(\r\n            button,\r\n            npCommon.n2b(this.info.touch.touchEventMode, \"default\"),\r\n            npCommon.n2b(this.info.touch.touchEventImage, \"default\"), // 추가\r\n            group,\r\n            index\r\n          );\r\n        }\r\n\r\n        if (this.info.preview.use === true && !this.useMultiCursor) {\r\n          this.preview(button);\r\n        }\r\n\r\n        const maxlength = parseInt(this.attr('maxlength'), 10) || 0;\r\n        const idx = !subdata.includes(':') ? 40 : subdata.indexOf(':');\r\n        const value = subdata.substring(0, idx);\r\n        let disvalue =\r\n          idx >= 0 && subdata.length > idx + 1\r\n            ? subdata.substring(idx + 1)\r\n            : '*';\r\n\r\n        if (value === 'korean') {\r\n          disvalue = String.fromCharCode(disvalue);\r\n\r\n          // if (disvalue.charCodeAt(0) < 128) {\r\n          //   this.value.value = this.value.value + disvalue;\r\n          //   this.value.hash = this.value.hash + disvalue;\r\n          // } else {\r\n          //   const orgValue = this.value.hash + disvalue;\r\n          //   const arrTmp = npHangul.splitWord(orgValue, 2);\r\n          //   const returnString = npHangul.composeHangul(arrTmp[1]);\r\n            \r\n          //   this.value.value = arrTmp[0] + returnString;\r\n          //   this.value.hash = arrTmp[0] + returnString;\r\n          // }\r\n\r\n          // this.value.value = this.value.hash;\r\n          // if (this.useTextPreview) {\r\n          //   this.textPreview = this.value.value;\r\n          // }\r\n          if (disvalue.charCodeAt(0) < 128) {\r\n            this.textValue = this.textValue + disvalue;\r\n            this.hashValue = this.hashValue + disvalue;\r\n          } else {\r\n            const orgValue = this.hashValue + disvalue;\r\n            const arrTmp = npHangul.splitWord(orgValue, 2);\r\n            const returnString = npHangul.composeHangul(arrTmp[1]);\r\n\r\n            this.textValue = arrTmp[0] + returnString;\r\n            this.hashValue = arrTmp[0] + returnString;\r\n          }\r\n\r\n          this.textValue = this.hashValue;\r\n          if (this.useTextPreview) {\r\n            this.textPreview = this.textValue;\r\n          }\r\n        } else {\r\n          const encvalue = npCommon.encrypt(\r\n            value,\r\n            npCommon.hexDecode(this.seedkey),\r\n            'ECB',\r\n          );\r\n          \r\n          if (disvalue.indexOf('p') === 0) {\r\n            disvalue = String.fromCharCode(parseInt(disvalue.substring(1)));\r\n          }\r\n          \r\n          if (maxlength <= 0 || this.value.value.length < maxlength) {\r\n            this.value.value += disvalue;\r\n            this.value.hash += encvalue;\r\n          }\r\n\r\n          this.value.formatted = this.value.value;\r\n          if (this.attr('data-keypad-action') === 'amount') {\r\n            this.value.formatted = npCommon.comma(this.value.value);\r\n          } else if (\r\n            typeof npConfig.FORMATTER !== 'undefined' &&\r\n            typeof npConfig.FORMATTER === 'function'\r\n          ) {\r\n            const formatterType = this.attr('nppfs-formatter-type');\r\n            this.value.formatted = formatterType\r\n              ? npConfig.FORMATTER(formatterType, this.value.value, true)\r\n              : this.value.value;\r\n          }\r\n          this.textPreview = this.useTextPreview\r\n            ? this.value.formatted\r\n            : this.value.value;\r\n\r\n          // 다음 입력양식으로 이동하기\r\n          const nextelement = this.attr('data-keypad-next');\r\n          const datalength = this.value.hash.length / 96;\r\n\r\n          if (\r\n            maxlength > 0 &&\r\n            datalength >= maxlength &&\r\n            !npCommon.isBlank(nextelement)\r\n          ) {\r\n            if (nextelement === '__hide__') {\r\n              this.hide();\r\n            } else if (nextelement === '__doenter__') {\r\n              this.doEnter();\r\n            } else {\r\n              document.getElementById(nextelement).focus();\r\n            }\r\n          }\r\n        }\r\n\r\n        // Shift 를 사용할 경우 대문자 키패드의 문자를 입력하면\r\n        // 자동으로 소문자 키패드로 변경\r\n        // console.log(\"Range\", this.info.range);\r\n        if (\r\n          this.info.type === 'keyboard' &&\r\n          this.info.capslock === false &&\r\n          this.info.shift === true &&\r\n          this.selectedButtonGroup === 'upper'\r\n        ) {\r\n          if (this.info.range) {\r\n            if (this.info.range.startsWith('lower')) {\r\n              this.selectedButtonGroup = 'lower';\r\n            } else if (this.info.range.startsWith('upper')) {\r\n              this.selectedButtonGroup = 'upper';\r\n            } else if (this.info.range.startsWith('special')) {\r\n              this.selectedButtonGroup = 'special';\r\n            } else {\r\n              this.selectedButtonGroup = 'lower';\r\n            }\r\n          } else {\r\n            this.selectedButtonGroup = 'lower';\r\n          }\r\n        }\r\n\r\n        if (this.useMultiCursor) {\r\n          this.showMultiCursorCover = true;\r\n        }\r\n\r\n        this.$emit('update', this.val());\r\n      }\r\n    },\r\n\r\n    doEnter() {\r\n      if (this.info.enter === 'hideall') {\r\n        this.$emit('hideall');\r\n      } else if (this.info.enter === 'hide') {\r\n        this.hide();\r\n      } else if (this.info.enter.startsWith('function')) {\r\n        const jscript = this.info.enter.substring(9);\r\n        if (jscript === 'hide') {\r\n          this.hide();\r\n        } else if (jscript === 'hideall') {\r\n          this.$emit('hideall');\r\n        } else {\r\n          try {\r\n            if (window.execScript) {\r\n              // FOR IE\r\n              window.execScript(jscript);\r\n            } else {\r\n              // window.eval.call(window, jscript);\r\n              // Function('\"use strict\";return (' + jscript + ')')();\r\n              alert(\r\n                '엔터키에 의한 자바스크립트 실행은 보안정책으로 인해 차단되었습니다.',\r\n              );\r\n            }\r\n          } catch (e) {\r\n            console.log(e);\r\n          }\r\n        }\r\n      } else {\r\n        console.log('Form Submit기능은 Vue에서는 제공되지 않습니다.');\r\n        // if(this.input.tagName.toLowerCase() == \"form\") {\r\n        //   this.input.submit();\r\n        // }\r\n      }\r\n\r\n      // npQuery(document).trigger({\r\n      //   type: \"nppfs-npv-after-enter\"\r\n      //   , message: npMessage.m94.replace(\"%p1%\", this.elementName)\r\n      //   , target : this._element\r\n      //   , name : this.elementName\r\n      //   , form : (npCommon.isNull(this.elementForm)) ? \"\" : this.elementForm\r\n      //   , time: new Date()\r\n      // });\r\n    },\r\n\r\n    touch(button, touchEventMode, touchEventImage, group, index) {\r\n      if (npCommon.isNull(button)) return;\r\n\r\n      const touchInfo = this.info.touch;\r\n      // console.log(\"touch button\", button, group);\r\n\r\n      let delta = 0;\r\n      if (group.id === 'upper') {\r\n        delta = this.info.ih;\r\n      } else if (group.id === 'special') {\r\n        delta = this.info.ih * 2;\r\n      }\r\n\r\n      const div1 = this.$el.getElementsByClassName('touch1');\r\n      if (div1 && div1.length > 0) {\r\n        if (touchEventImage === \"preview\") {\r\n          this.touchPreview(div1, button, delta);\r\n        } else {\r\n          const coords = button.coord;\r\n          div1[0].style.left = Math.floor(this.resizeRatio * coords.x1) + \"px\";\r\n          div1[0].style.top =\r\n            Math.floor(this.resizeRatio * (coords.y1 - delta)) + \"px\";\r\n          div1[0].style.opacity = touchInfo.opacity / 100;\r\n          div1[0].style.backgroundColor = touchInfo.color;\r\n        }\r\n      }\r\n\r\n      const div2 = this.$el.getElementsByClassName('touch2');\r\n      if (div2 && div2.length > 0) {\r\n        // div2[0].style.left = Math.floor(this.resizeRatio * sx) + \"px\";\r\n        // div2[0].style.top = Math.floor(this.resizeRatio * sy) + \"px\";\r\n\r\n        if (touchEventMode !== 'single') {\r\n          const anotherButtons = [];\r\n          group.buttons.forEach((btn, idx) => {\r\n            if (btn.type === 'data' && idx !== index) {\r\n              anotherButtons.push(btn);\r\n            }\r\n          });\r\n\r\n          const ri =\r\n            anotherButtons.length <= 2\r\n              ? 0\r\n              : Math.round(Math.random() * anotherButtons.length * 10) %\r\n                anotherButtons.length;\r\n          const touch = anotherButtons[ri];\r\n          if (touchEventImage === \"preview\") {\r\n            this.touchPreview(div2, touch, delta);\r\n          } else {\r\n            const coords = touch.coord;\r\n            div2[0].style.left =\r\n              Math.floor(this.resizeRatio * coords.x1) + \"px\";\r\n            div2[0].style.top =\r\n              Math.floor(this.resizeRatio * (coords.y1 - delta)) + \"px\";\r\n            div2[0].style.opacity = touchInfo.opacity / 100;\r\n            div2[0].style.backgroundColor = touchInfo.color;\r\n          }\r\n          div2[0].style.display = 'block';\r\n        } else {\r\n          div2[0].style.display = 'none';\r\n        }\r\n      }\r\n\r\n      // if(this._isOldIe) {\r\n      //   divtouch.css({opacity:1}).show();\r\n      //   setTimeout(function(){\r\n      //     divtouch.hide();\r\n      //   }, this._keypadinfo.touch.timeout);\r\n      // } else {\r\n      //   divtouch.stop().animate({opacity:1}, 1);\r\n      //   divtouch.show().animate({opacity:0}, this._keypadinfo.touch.timeout, function(){\r\n      //     npQuery(this).hide();\r\n      //   });\r\n      // }\r\n\r\n      this.touchDuration = touchInfo.timeout;\r\n      this.showTouchDiv = true;\r\n    },\r\n\r\n    touchPreview(div, button, delta) {\r\n      const coords = button.coord;\r\n      const preCoords = button.preCoord;\r\n\r\n      const sx = Math.ceil(preCoords.x1);\r\n      const sy = Math.ceil(preCoords.y1);\r\n      const ex = Math.ceil(preCoords.x2);\r\n      const ey = Math.ceil(preCoords.y2);\r\n      const viewWidth = ex - sx;\r\n      const viewHeight = ey - sy;\r\n\r\n      div[0].style.backgroundColor = \"unset\";\r\n      div[0].style.left = Math.floor(this.resizeRatio * coords.x1) + \"px\";\r\n      div[0].style.top =\r\n        Math.floor(this.resizeRatio * (coords.y1 - delta)) + \"px\";\r\n      div[0].style.width = Math.floor(this.resizeRatio * viewWidth) + \"px\";\r\n      div[0].style.height = Math.floor(this.resizeRatio * viewHeight) + \"px\";\r\n\r\n      div[0].style.backgroundImage = \"url(\" + this.info.src + \")\";\r\n      div[0].style.backgroundRepeat = \"no-repeat\";\r\n      div[0].style.backgroundPosition =\r\n        Math.floor(this.resizeRatio * -1 * sx) +\r\n        \"px \" +\r\n        Math.floor(this.resizeRatio * -1 * sy) +\r\n        \"px\";\r\n      const newWidth = Math.floor(this.resizeRatio * this.info.iw * 2);\r\n      let newHeight = Math.floor(this.resizeRatio * this.info.ih);\r\n      if (this.info.type === \"keyboard\") {\r\n        newHeight = Math.floor(this.resizeRatio * this.info.ih * 3);\r\n      }\r\n      div[0].style.backgroundSize = newWidth + \"px \" + newHeight + \"px\";\r\n    },\r\n\r\n    onTouchBeforeEnter(el) {\r\n      // console.log(\"Preview Element beforeEnter : \", this.touchDuration, this.showPreview);\r\n      // el.style.opacity = 1;\r\n      this.stopTouchTransition = true;\r\n\r\n      if (this.touchTransitionTimer) {\r\n        clearInterval(this.touchTransitionTimer);\r\n        this.touchTransitionTimer = null;\r\n      }\r\n    },\r\n\r\n    onTouchEnter(el, done) {\r\n      // console.log(\"Preview Element enter : \", this.previewDuration, this.showPreview);\r\n      el.style.opacity = 1;\r\n      done();\r\n    },\r\n\r\n    onTouchAfterEnter(el) {\r\n      // el.style.opacity = 1;\r\n      this.showTouchDiv = false;\r\n    },\r\n\r\n    onTouchBeforeLeave(el) {\r\n      // console.log(\"Preview Element beforeLeave : \", this.touchDuration, this.showPreview);\r\n      el.style.opacity = 1;\r\n    },\r\n\r\n    onTouchLeave(el, done) {\r\n      // console.log(\"Preview Element leave : \", this.touchDuration, this.showPreview);\r\n      const delta = 1 / (this.touchDuration / 50);\r\n      let opacity = 1;\r\n      el.style.opacity = opacity;\r\n\r\n      this.touchTransitionTimer = setInterval(function () {\r\n        if (this.stopTouchTransition) {\r\n          clearInterval(this.touchTransitionTimer);\r\n          this.touchTransitionTimer = null;\r\n          this.stopTouchTransition = false;\r\n          done();\r\n          return;\r\n        }\r\n\r\n        opacity -= delta;\r\n\r\n        el.style.opacity = opacity;\r\n        if (opacity < 0) {\r\n          el.style.opacity = 0;\r\n          opacity = 0;\r\n          clearInterval(this.touchTransitionTimer);\r\n          this.touchTransitionTimer = null;\r\n          done();\r\n        }\r\n      }, 50);\r\n    },\r\n\r\n    onTouchAfterLeave(el, done) {\r\n      // console.log(\"Preview Element afterLeave : \", this.touchDuration, this.showPreview);\r\n    },\r\n\r\n    preview(button) {\r\n      const coords = button.preCoord;\r\n      // return coord.x1 + ',' + coord.y1 + ',' + coord.x2 + ',' + coord.y2;\r\n\r\n      // var coords = target.attr(\"preCoords\");\r\n      // var pairs = coords.split(',');\r\n      const sx = Math.ceil(coords.x1);\r\n      const sy = Math.ceil(coords.y1);\r\n      const ex = Math.ceil(coords.x2);\r\n      const ey = Math.ceil(coords.y2);\r\n      const viewWidth = ex - sx;\r\n      const viewHeight = ey - sy;\r\n\r\n      const previewtop = 4;\r\n      const previewborder = npConfig.KEYPAD['kpd-preview-border'] || '2';\r\n\r\n      // var divitem = npQuery(\".kpd-preview .preview\", $element.parent().parent());\r\n      // divitem.css({\"width\" : viewWidth, \"height\" : viewHeight});\r\n\r\n      const styles = {};\r\n      styles.position = 'absolute';\r\n      styles.backgroundRepeat = 'no-repeat';\r\n      // styles.left = (-1 * viewWidth / 2) + \"px\";\r\n      // styles.top = previewtop + \"px\";\r\n      // styles.width = (viewWidth - previewborder * 2) + \"px\";\r\n      // styles.height = (viewHeight - previewborder * 2) + \"px\";\r\n      // styles.backgroundPosition = -(sx + 4 - previewborder) + \"px \" + -(sy + 4 - previewborder) + \"px\";\r\n\r\n      styles.left =\r\n        Math.floor(this.resizeRatio * ((-1 * viewWidth) / 2)) + 'px';\r\n      styles.top = Math.floor(this.resizeRatio * previewtop) + 'px';\r\n      styles.width =\r\n        Math.floor(this.resizeRatio * (viewWidth - previewborder * 2)) + 'px';\r\n      styles.height =\r\n        Math.floor(this.resizeRatio * (viewHeight - previewborder * 2)) + 'px';\r\n      styles.backgroundPosition =\r\n        Math.floor(this.resizeRatio * -1 * (sx + 4 - previewborder)) +\r\n        'px ' +\r\n        Math.floor(this.resizeRatio * -1 * (sy + 4 - previewborder)) +\r\n        'px';\r\n\r\n      const newWidth = Math.floor(this.resizeRatio * this.info.iw * 2);\r\n      let newHeight = Math.floor(this.resizeRatio * this.info.ih);\r\n      if (this.info.type === 'keyboard') {\r\n        newHeight = Math.floor(this.resizeRatio * this.info.ih * 3);\r\n      }\r\n      styles.backgroundSize = newWidth + 'px ' + newHeight + 'px';\r\n\r\n      this.previewStyles = styles;\r\n\r\n      if (this.isPreviewAnimating) {\r\n        this.stopPreviewTransition = true;\r\n      }\r\n      this.showPreview = true;\r\n\r\n      // this.$nextTick(() => {\r\n      //   this.previewDuration = npConfig.KEYPAD[\"kpd-preview-timeout\"] || 3000;\r\n      // });\r\n      // var divpreview = npQuery(\".kpd-preview\", $element.parent().parent());\r\n      // if(this._isOldIe) {\r\n      //   divpreview.css({opacity:1}).show();\r\n      //   setTimeout(function() {\r\n      //     divpreview.hide();\r\n      //   }, npConfig.KEYPAD[\"kpd-preview-timeout\"] || 3000);\r\n      // } else {\r\n      //   divpreview.stop().animate({opacity:1}, 1);\r\n      //   divpreview.show().animate({opacity:0}, npConfig.KEYPAD[\"kpd-preview-timeout\"] || 3000, function(){\r\n      //     npQuery(this).hide();\r\n      //   });\r\n      // }\r\n    },\r\n\r\n    onPreviewBeforeEnter(el) {\r\n      // console.log(\"Preview Element beforeEnter : \", this.previewDuration, this.showPreview);\r\n      el.style.opacity = 0;\r\n      this.isPreviewAnimating = true;\r\n    },\r\n\r\n    onPreviewEnter(el, done) {\r\n      // console.log(\"Preview Element enter : \", this.previewDuration, this.showPreview);\r\n      if (this.previewTransitionTimer) {\r\n        clearInterval(this.previewTransitionTimer);\r\n        this.previewTransitionTimer = null;\r\n        done();\r\n        return;\r\n      }\r\n\r\n      // const delta = 1 / (this.previewDuration / 100);\r\n      const delta = 1 / (100 / 100);\r\n      let opacity = 0;\r\n      el.style.opacity = opacity;\r\n      this.previewTransitionTimer = setInterval(function () {\r\n        opacity += delta;\r\n        el.style.opacity = opacity;\r\n        if (opacity >= 1) {\r\n          el.style.opacity = 1;\r\n          opacity = 1;\r\n          clearInterval(this.previewTransitionTimer);\r\n          this.previewTransitionTimer = null;\r\n          done();\r\n        }\r\n      }, 100);\r\n    },\r\n\r\n    onPreviewAfterEnter(el) {\r\n      // console.log(\"Preview Element afterEnter : \", this.previewDuration, this.showPreview);\r\n      el.style.opacity = 1;\r\n      // this.isPreviewAnimating = false;\r\n      this.showPreview = false;\r\n    },\r\n\r\n    onPreviewBeforeLeave(el) {\r\n      // console.log(\"Preview Element beforeLeave : \", this.previewDuration, this.showPreview);\r\n      this.isPreviewAnimating = true;\r\n      el.style.opacity = 1;\r\n    },\r\n\r\n    onPreviewLeave(el, done) {\r\n      // console.log(\"Preview Element leave : \", this.previewDuration, this.showPreview);\r\n      const delta = 1 / (this.previewDuration / 100);\r\n      let opacity = 1;\r\n      el.style.opacity = opacity;\r\n\r\n      if (this.previewTransitionTimer) {\r\n        clearInterval(this.previewTransitionTimer);\r\n        this.previewTransitionTimer = null;\r\n      }\r\n\r\n      this.previewTransitionTimer = setInterval(function () {\r\n        if (this.stopPreviewTransition) {\r\n          clearInterval(this.previewTransitionTimer);\r\n          this.previewTransitionTimer = null;\r\n          this.stopPreviewTransition = false;\r\n          done();\r\n          return;\r\n        }\r\n\r\n        opacity -= delta;\r\n\r\n        el.style.opacity = opacity;\r\n        if (opacity < 0) {\r\n          el.style.opacity = 0;\r\n          opacity = 0;\r\n          clearInterval(this.previewTransitionTimer);\r\n          this.previewTransitionTimer = null;\r\n          done();\r\n        }\r\n      }, 100);\r\n    },\r\n\r\n    onPreviewAfterLeave(el, done) {\r\n      // console.log(\"Preview Element afterLeave : \", this.previewDuration, this.showPreview);\r\n      this.isPreviewAnimating = false;\r\n      el.style.opacity = 0;\r\n    },\r\n\r\n    initMultiCursor() {},\r\n\r\n    onMultiCursorMove(event) {\r\n      if (this.useMultiCursor) {\r\n        // console.log(\"event\", event)\r\n\r\n        const div = this.$el.getElementsByClassName('kpd-multi-cursor');\r\n        const kpddiv = div && div.length > 0 ? div[0] : null;\r\n        if (!kpddiv) return;\r\n\r\n        // console.log('vx', vx, 'vy', vy);\r\n        const vx = window.scrollX || document.documentElement.scrollLeft;\r\n        const vy = window.scrollY || document.documentElement.scrollTop;\r\n        const centerx = Math.floor((this.resizeRatio * this.info.iw) / 2);\r\n        const centery = Math.floor((this.resizeRatio * this.info.ih) / 2);\r\n        const position = kpddiv.getBoundingClientRect();\r\n        const deltax = position.left + centerx - event.pageX + vx;\r\n        const deltay = position.top + centery - event.pageY + vy;\r\n        const newx1 = centerx - deltax;\r\n        const newy1 = centery - deltay;\r\n        const newx2 = centerx + deltax;\r\n        const newy2 = centery + deltay;\r\n\r\n        const c1div = kpddiv.getElementsByClassName('cursor1');\r\n        const c2div = kpddiv.getElementsByClassName('cursor2');\r\n        if (c1div && c1div.length > 0) {\r\n          c1div[0].style.cursor = 'none';\r\n          c1div[0].style.left = newx1 + 'px';\r\n          c1div[0].style.top = newy1 + 'px';\r\n        }\r\n        if (c2div && c2div.length > 0) {\r\n          c2div[0].style.cursor = 'none';\r\n          c2div[0].style.left = newx2 + 'px';\r\n          c2div[0].style.top = newy2 + 'px';\r\n        }\r\n      }\r\n    },\r\n\r\n    onMultiCursorClick() {\r\n      this.showMultiCursorCover = false;\r\n    },\r\n\r\n    serialize() {\r\n      const ret = {};\r\n      if (this.useyn) {\r\n        ret[this.hashKey] = this.value.hash;\r\n        ret[this.infoKey] = this.infoValue;\r\n        if (this.attr(\"nppfs-formatter-type\")) {\r\n          ret[this.elementName] = this.value.formatted;\r\n        } else {\r\n          ret[this.elementName] = this.value.value;\r\n        }\r\n        ret[this.info.inputs.useyn] = 'Y';\r\n      }\r\n      return ret;\r\n    },\r\n\r\n    val() {\r\n      return {\r\n        text: this.value.value,\r\n        hash: this.value.hash,\r\n        formatted: this.value.formatted,\r\n        hashKey: this.hashKey,\r\n        infoKey: this.infoKey,\r\n        infoValue: this.infoValue,\r\n        selectedButtonGroup: this.selectedButtonGroup,\r\n        useTextPreview: this.useTextPreview,\r\n        useFormatter: this.useFormatter,\r\n      };\r\n    },\r\n\r\n    getHash() {\r\n      return this.value.hash;\r\n    },\r\n\r\n    getInfo() {\r\n      return this.infoValue;\r\n    },\r\n\r\n    getText() {\r\n      return this.value.formatted;\r\n    },\r\n\r\n    getValue() {\r\n      return this.value.value;\r\n    },\r\n\r\n    clear(fromFocus) {\r\n      if (!fromFocus || (fromFocus && this.info.focusmode === 'clear')) {\r\n        // if(this.textValue || this.hashValue || this.textPreview || this.formatValue) {\r\n        this.$nextTick(() => {\r\n          // console.log(\"clear.............\", this.input.$el, this.input.value)\r\n          this.value.value = '';\r\n          this.value.hash = '';\r\n          this.value.formatted = '';\r\n          this.textPreview = '';\r\n          // this.input.value = '';\r\n          this.setValue(this.input, '');\r\n          this.$emit('update', '');\r\n          // }\r\n        });\r\n      }\r\n    },\r\n\r\n    setValue(elm, value) {\r\n      elm.value = value;\r\n    },\r\n\r\n    setColor(elm, textColor, backColor) {\r\n      elm.style.color = textColor;\r\n      elm.style.backgroundColor = backColor;\r\n    },\r\n\r\n    show() {\r\n      this.hide();\r\n      this.isVisible = true;\r\n      this.calculateRatio();\r\n      this.calculatePosition();\r\n      // console.log(\"Show \" + this.isVisible);\r\n      // if(this.isVisible) {\r\n      // this.input.style.color = npConfig.COLOR['on-text-color'];\r\n      // this.input.style.backgroundColor = npConfig.COLOR['on-back-color'];\r\n\r\n      this.setColor(\r\n        this.input,\r\n        npConfig.COLOR['on-text-color'],\r\n        npConfig.COLOR['on-back-color'],\r\n      );\r\n\r\n      // } else {\r\n      // }\r\n      // if(this.isUseAria) {\r\n      //   const first = this.$refs[this.info.keypadUuid + '_bg_img'];\r\n      //   if(first) {\r\n      //   console.log(\"aria....\", first, \"........\", first.$el)\r\n      //     if(first.$el) first.$el.focus();\r\n      //     else first.focus();\r\n      //     // first.$el.focus();\r\n      //   }\r\n      // }\r\n      this.focus();\r\n      this.$emit('show');\r\n    },\r\n    hide() {\r\n      this.isVisible = false;\r\n\r\n      if (this.useyn) {\r\n        this.setColor(\r\n          this.input,\r\n          npConfig.COLOR['off-text-color'],\r\n          npConfig.COLOR['off-back-color'],\r\n        );\r\n        // this.input.style.color = npConfig.COLOR['off-text-color'];\r\n        // this.input.style.backgroundColor = npConfig.COLOR['off-back-color'];\r\n      }\r\n      // console.log(\"Hide \" + this.isVisible);\r\n      this.$emit('hide');\r\n    },\r\n    close() {\r\n      if (!npConfig.KEYPAD['kpd-close-hide']) {\r\n        this.setUseYn(false);\r\n      }\r\n      this.hide();\r\n      // console.log(\"Close \" + this.isVisible);\r\n    },\r\n    focus() {\r\n      if (this.isUseAria) {\r\n        // const first = document.getElementById(this.info.keypadUuid + '_bg_img');\r\n        const first = this.$refs[this.info.keypadUuid + '_bg_img'];\r\n        if (first) {\r\n          this.$nextTick(function () {\r\n            if (first.$el) first.$el.focus();\r\n            else first.focus();\r\n            // console.log(\"aria....\", first, \"........\", first.$el)\r\n            // console.log(\"active\", document.activeElement);\r\n          });\r\n        }\r\n      }\r\n    },\r\n    isUseYn() {\r\n      return this.useyn;\r\n    },\r\n    setUseYn(useyn) {\r\n      const _this = this;\r\n      // const res = npConfig.isAbsoluteUse();\r\n      // npConfig.isAbsoluteUse(function(res) {   // 이것으로 처리하면 화면 업데이트가 안됨\r\n      const oldUseYn = _this.useyn;\r\n\r\n      _this.useyn = useyn;\r\n\r\n      if (oldUseYn !== _this.useyn) {\r\n        // console.log(\"setUseYn\", this.useyn);\r\n        // _this.input.readOnly = _this.useyn;\r\n        _this.clear(false);\r\n        _this.hide();\r\n      }\r\n\r\n      _this.input.classList.remove(npConfig.SECUKEY['skb-active-class']);\r\n      _this.input.classList.remove(npConfig.KEYPAD['kpd-active-class']);\r\n      _this.input.classList.remove('keyboard');\r\n      _this.input.classList.remove('mouse');\r\n      if (_this.useyn) {\r\n        _this.input.classList.add(npConfig.KEYPAD['kpd-active-class']);\r\n        _this.input.classList.add('mouse');\r\n      } else {\r\n        _this.input.classList.add('keyboard');\r\n      }\r\n\r\n      if (_this.useynInput) {\r\n        // console.log(\"Use Yn\", _this.useynInput, _this.useynInput.text);\r\n        _this.useynInput.classList.remove(npConfig.SECUKEY['skb-active-class']);\r\n        _this.useynInput.classList.remove(npConfig.KEYPAD['kpd-active-class']);\r\n        _this.useynInput.classList.remove('keyboard');\r\n        _this.useynInput.classList.remove('mouse');\r\n        if (_this.useyn) {\r\n          _this.useynInput.classList.add(npConfig.KEYPAD['kpd-active-class']);\r\n          _this.useynInput.classList.add('mouse');\r\n        } else {\r\n          _this.useynInput.classList.add('keyboard');\r\n        }\r\n      }\r\n      // });\r\n    },\r\n    width() {\r\n      return this.realWidth;\r\n    },\r\n    height() {\r\n      return this.realHeight;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\ndiv.nppfs-keypad-div {\r\n  position: absolute;\r\n  width: 0px;\r\n  height: 0px;\r\n  white-space: normal;\r\n  overflow: visible;\r\n}\r\n</style>\r\n<style scoped>\r\ndiv.nppfs-keypad {\r\n  position: absolute;\r\n  margin: 0px;\r\n  z-index: 9999;\r\n  white-space: normal; /*border:1px solid #ff0000;*/\r\n}\r\ndiv.nppfs-keypad-wrap {\r\n  position: relative;\r\n  white-space: normal;\r\n}\r\ndiv.nppfs-keypad .kpd-group {\r\n  position: relative;\r\n  z-index: 10;\r\n  width: 0px;\r\n  height: 0px;\r\n  white-space: normal;\r\n}\r\ndiv.nppfs-keypad .kpd-touch {\r\n  position: relative;\r\n  z-index: 30;\r\n  white-space: normal;\r\n}\r\ndiv.nppfs-keypad .kpd-text {\r\n  z-index: 40;\r\n}\r\ndiv.nppfs-keypad .kpd-preview {\r\n  position: relative;\r\n  z-index: 50;\r\n  margin-left: 50%;\r\n  white-space: normal;\r\n}\r\ndiv.nppfs-keypad .kpd-data {\r\n  cursor: pointer;\r\n}\r\n\r\n.kpd-preview .preview {\r\n  background-repeat: no-repeat;\r\n  background-position: 0px 0px;\r\n}\r\n\r\ndiv.kpd-multi-cursor:hover {\r\n  cursor: none !important;\r\n}\r\ndiv.kpd-multi-cursor .kpd-data {\r\n  cursor: none !important;\r\n}\r\ndiv.kpd-multi-cursor .kpd-blank {\r\n  cursor: none !important;\r\n}\r\ndiv.kpd-multi-cursor .cursor-cover {\r\n  position: absolute;\r\n  z-index: 14;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: #ccc;\r\n  opacity: 0.3;\r\n  filter: alpha(opacity=30);\r\n}\r\ndiv.kpd-multi-cursor .click-cover {\r\n  position: absolute;\r\n  z-index: 20;\r\n  left: 50%;\r\n  top: 50%;\r\n  margin-left: -46px;\r\n  margin-top: -46px;\r\n  padding: 10px;\r\n  text-align: center;\r\n  border-radius: 16px;\r\n  border: 3px solid #aaa;\r\n  background: #fff;\r\n  box-shadow: 0px 0px 20px #333;\r\n}\r\ndiv.kpd-multi-cursor .cursor {\r\n  margin-left: -3px;\r\n  margin-top: 1px;\r\n  position: absolute;\r\n  display: none;\r\n  left: 0;\r\n  top: 0;\r\n  width: 10px;\r\n  height: 16px;\r\n  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAQCAYAAAAvf+5AAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuOWwzfk4AAACeSURBVChThdA9CsJAEIbhsTAoiBD8AQuLWHgBb+EFLLQSGys7r6/vxG/XTbKrAy/ZWZ4Uib00ZjajMY1oOEIBzymPA9SxjFOoNY/7UFdDnIO69ucXl6DXwb+gF/E/6LWmBPvTgZnzg250ilDPZ9iTuz1tPhvDcqeDzincUvyYMzW0o6vuUuy/yI60opoW1GTgkmyqKpqQv3RphcbM1m9nk+LNtzuvMwAAAABJRU5ErkJggg==');\r\n}\r\ndiv.kpd-multi-cursor .cursor1 {\r\n  z-index: 15;\r\n}\r\ndiv.kpd-multi-cursor .cursor2 {\r\n  z-index: 16;\r\n}\r\ndiv.kpd-multi-cursor:hover .cursor {\r\n  display: block;\r\n}\r\n</style>","import { render } from \"./NOSKeypad.vue?vue&type=template&id=e6521e34&scoped=true\"\nimport script from \"./NOSKeypad.vue?vue&type=script&lang=js\"\nexport * from \"./NOSKeypad.vue?vue&type=script&lang=js\"\n\nimport \"./NOSKeypad.vue?vue&type=style&index=0&id=e6521e34&lang=css\"\nimport \"./NOSKeypad.vue?vue&type=style&index=1&id=e6521e34&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\hwpark\\\\Desktop\\\\NOS\\\\[잉카인터넷]신한카드 Data-biz vue.3+springboot NOS 모듈\\\\1. 적용모듈\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e6521e34\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./NOSKeypad.vue?vue&type=style&index=1&id=e6521e34&scoped=true&lang=css\""],"sourceRoot":""}