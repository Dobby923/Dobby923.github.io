(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ede19774"],{"521f":function(A,t,e){"use strict";e("eeda")},a95f:function(A,t,e){"use strict";e.r(t);var i=e("7a23");const s=A=>(Object(i["z"])("data-v-e6521e34"),A=A(),Object(i["x"])(),A),o=["id","data-width","data-height"],a=["id","tabindex"],n={class:"kpd-cover cursor-cover"},r=["src"],l=s(()=>Object(i["h"])("div",{class:"cursor cursor1"},null,-1)),h=s(()=>Object(i["h"])("div",{class:"cursor cursor2"},null,-1)),u={class:"kpd-touch"},c={key:3,class:"kpd-preview"},p=["data-left","data-top","data-width","data-height","data-font-size"],d=["src"],f=["data-action","alt","aria-label","tabindex","role","onClick","onTouch"];function y(A,t,e,s,y,v){return Object(i["O"])((Object(i["w"])(),Object(i["g"])("div",{id:y.id,class:"nppfs-keypad","data-width":y.info.iw,"data-height":y.info.ih,style:Object(i["s"])(v.makeKpdStyles())},[Object(i["h"])("div",{class:Object(i["r"])(["kpd-wrap",y.info.type,y.useMultiCursor?"kpd-multi-cursor":""]),style:Object(i["s"])(v.makeKpdWrapStyles()),onMousemove:t[1]||(t[1]=(...A)=>v.onMultiCursorMove&&v.onMultiCursorMove(...A))},[v.isUseAria?(Object(i["w"])(),Object(i["g"])("img",{key:0,id:y.info.keypadUuid+"_bg_img",ref:y.info.keypadUuid+"_bg_img",style:{position:"absolute",left:"0",top:"0",border:"0px",width:"100%",height:"100%"},src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALI7fhAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAApJREFUCJljYAAAAAIAAfRxZKYAAAAASUVORK5CYII=",alt:"키패드",tabindex:v.isUseAria?0:""},null,8,a)):Object(i["f"])("",!0),y.useMultiCursor?(Object(i["w"])(),Object(i["g"])(i["a"],{key:1},[Object(i["O"])(Object(i["h"])("div",n,null,512),[[i["L"],y.showMultiCursorCover]]),Object(i["O"])(Object(i["h"])("div",{class:"kpd-cover click-cover",onClick:t[0]||(t[0]=(...A)=>v.onMultiCursorClick&&v.onMultiCursorClick(...A))},[Object(i["h"])("img",{class:"click-image",src:y.CONFIG.KEYPAD["kpd-multi-cursor-image"]},null,8,r)],512),[[i["L"],y.showMultiCursorCover]]),l,h],64)):Object(i["f"])("",!0),y.info.touch&&y.info.touch.use?(Object(i["w"])(),Object(i["e"])(i["b"],{key:2,onBeforeEnter:v.onTouchBeforeEnter,onEnter:v.onTouchEnter,onAfterEnter:v.onTouchAfterEnter,onBeforeLeave:v.onTouchBeforeLeave,onLeave:v.onTouchLeave,onAfterLeave:v.onTouchAfterLeave},{default:Object(i["N"])(()=>[Object(i["O"])(Object(i["h"])("div",u,[Object(i["h"])("div",{class:"kpd-button touch1",style:Object(i["s"])(v.makeKpdTouchStyles())},null,4),Object(i["h"])("div",{class:"kpd-button touch2",style:Object(i["s"])(v.makeKpdTouchStyles())},null,4)],512),[[i["L"],y.showTouchDiv]])]),_:1},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])):Object(i["f"])("",!0),y.info.preview&&y.info.preview.use?(Object(i["w"])(),Object(i["g"])("div",c,[Object(i["i"])(i["b"],{onBeforeEnter:v.onPreviewBeforeEnter,onEnter:v.onPreviewEnter,onAfterEnter:v.onPreviewAfterEnter,onBeforeLeave:v.onPreviewBeforeLeave,onLeave:v.onPreviewLeave,onAfterLeave:v.onPreviewAfterLeave},{default:Object(i["N"])(()=>[Object(i["O"])(Object(i["h"])("div",{class:Object(i["r"])(["preview",y.info.type]),style:Object(i["s"])(v.makeKpdPreviewStyles())},null,6),[[i["L"],y.showPreview]])]),_:1},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])])):Object(i["f"])("",!0),y.useTextPreview?(Object(i["w"])(),Object(i["g"])("div",{key:4,class:"kpd-text","data-left":y.info.text.dx,"data-top":y.info.text.dy,"data-width":y.info.text.dw,"data-height":y.info.text.dh,"data-font-size":y.info.text.spanFontSize,style:Object(i["s"])(v.makeKpdTextStyles())},[Object(i["h"])("span",{class:"textfield",style:Object(i["s"])(v.makeKpdTextSpanStyles())},Object(i["H"])(y.textPreview),5)],12,p)):Object(i["f"])("",!0),(Object(i["w"])(!0),Object(i["g"])(i["a"],null,Object(i["C"])(y.items,(A,t)=>Object(i["O"])((Object(i["w"])(),Object(i["g"])("div",{key:t,ref_for:!0,ref:"kpd-group-"+A.id,class:Object(i["r"])(["kpd-group",A.id]),style:Object(i["s"])(v.makeKpdGroupStyles(A,t))},[Object(i["h"])("img",{class:"kpd-image-button",style:Object(i["s"])(v.makeKpdImageStyles(v.makeKpdImageMarginTop(A))),"aria-hidden":"true",src:y.info.src},null,12,d),(Object(i["w"])(!0),Object(i["g"])(i["a"],null,Object(i["C"])(A.buttons,(t,e)=>(Object(i["w"])(),Object(i["g"])("img",{key:e,class:"kpd-data",style:Object(i["s"])(v.makeKpdButtonStyles(t,v.makeKpdImageMarginTop(A))),"data-action":t.action,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAMAAAAoyzS7AAADAFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALI7fhAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAApJREFUCJljYAAAAAIAAfRxZKYAAAAASUVORK5CYII=",alt:v.isUseAria?v.buttonLabel(t):"","aria-label":v.isUseAria?v.buttonLabel(t):"",tabindex:v.isUseAria?0:"",role:v.isUseAria?"button":"",onClick:i=>v.handleButtonAction(t,A,e),onTouch:i=>v.handleButtonAction(t,A,e)},null,44,f))),128))],6)),[[i["L"],A.id===y.selectedButtonGroup]])),128))],38)],12,o)),[[i["L"],y.isVisible]])}e("caad");var v=e("59fc"),m=e("724c"),b={model:{prop:"value",event:"update"},props:{input:{type:HTMLInputElement,required:!0},keyset:{type:Object,required:!0},uuid:{type:String,required:!0},absoluteUse:{type:Boolean,default:!1}},data(){return{useyn:!1,useynInput:null,parent:this.$parent.$parent,seedkey:"",value:{value:"",hash:"",formatted:""},infoValue:"",hashKey:"",infoKey:"",useFormatter:!1,useTextPreview:!1,textPreview:"",info:{},items:[],data:{},resizeRatio:1,isVisible:!1,showPreview:!1,previewDuration:m["a"].KEYPAD["kpd-preview-timeout"]||3e3,previewStyles:{},stopPreviewTransition:!1,previewTransitionTimer:null,isPreviewAnimating:!1,showTouchDiv:!1,touchDuration:1e3,stopTouchTransition:!1,touchTransitionTimer:null,selectedButtonGroup:"",attrs:{},elementName:"",elementForm:"document-body",id:"",useMultiCursor:!1,showMultiCursorCover:!1,CONFIG:m["a"],isMobile:v["c"].isMobileDevice(),realWidth:0,realHeight:0}},computed:{isUseAria(){let A=!1;return m["a"].KEYPAD["kpd-use-aria-mobile"]?v["c"].isMobileDevice()&&(A=!0):m["a"].KEYPAD["kpd-use-aria"]&&(A=!0),A},debugData(){return this.val()}},created(){this.attrs=this.input.$attrs,this.elementName=this.input.name||this.input.id||"element-"+this.input._uid,this.id="nppfs-keypad-"+v["b"].eraseSpecialChars(this.elementName),this.init();const A=this.prepareKeypad();this.createKeypad(A)},mounted(){window.addEventListener("resize",this.handleResize)},beforeDestroy(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize(A){this.calculateRatio(),this.calculatePosition()},calculateRatio(){if(this.resizeRatio=1,this.info&&(this.realWidth=this.info.iw,this.realHeight=this.info.ih,this.info.iw&&this.info.resize&&this.info.resizeRadio>0)){const A=window.innerWidth,t=window.innerHeight,e=this.info.iw;let i=this.info.resizeRadio/100,s=!1;const o=A*i;i=o/e,(o<e||v["c"].isMobileDevice()&&A<=t&&o>=e)&&(s=!0),s&&(this.resizeRatio=i)}},calculatePosition(){const A=this.input,t=document.getElementById(this.id);let e=null;if(t){let A=!1,i=t;do{i=i.parentElement;const t=i?i.nodeName.toLowerCase():"";if(!i)break;if(i&&"body"===t)break;"div"===t&&i.getAttribute("class").includes("nppfs-keypad-div")&&(e=i,A=!0)}while(!A)}if(A&&t&&e){const i={mode:"layer",tw:0,th:0,resize:!0,resizeRadio:90},s={x:"default",y:"default",deltax:0,deltay:5};if(Object.assign(i,{...this.info}),Object.assign(s,{...this.info.position}),"layer"===i.mode||"extendui"===i.mode){const o=1!==this.resizeRatio,a=window.innerWidth,n=window.innerHeight,r=this.info.iw*this.resizeRatio,l=this.info.ih*this.resizeRatio,h=parseInt(r,10),u=parseInt(l,10);this.realWidth=h,this.realHeight=u;const c=A.getBoundingClientRect(),p=e.getBoundingClientRect(),d=t;if(this.$emit("resize"),"layer"===i.mode)if("left"===s.x)d.style.left=o?(a-h)/2-p.left+"px":s.deltax-p.left+"px";else if("right"===s.x)d.style.left=o?(a-h)/2-p.left+"px":a-h-s.deltax-p.left+"px";else if("center"===s.x)d.style.left=o?(a-h)/2-p.left+"px":(a-h)/2+s.deltax-p.left+"px";else if(o){const A=(a-h)/2-p.left;d.style.left=A+"px"}else{let A=c.left-p.left+s.deltax;A+h+p.left+10>a&&(A=a-h-p.left-10),A<-1*p.left&&(A=-1*p.left),d.style.left=A+"px"}const f=window.pageYOffset?window.pageYOffset:0!==document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;if("top"===s.y){const A=f+s.deltay-p.top;d.style.top=A+"px"}else if("bottom"===s.y){const A=f+n-u-s.deltay-p.top;d.style.top=A+"px"}else if("middle"===s.y)d.style.top=f+(n-u)/2+s.deltay-p.top+"px";else if("auto"===s.y){let A=0;const t=c.top+c.height+u+s.deltay,e=c.top-u-s.deltay,i=f;A=t>i+n?e<i?c.top+c.height-p.top+s.deltay:c.top-u-p.top-s.deltay:c.top+c.height-p.top+s.deltay,d.style.top=A+"px"}else{const A=c.top+c.height-p.top+s.deltay;d.style.top=A+"px"}}}},attr(A){return this.input.getAttribute(A)},makeKpdGroupStyles(A,t){const e={position:"relative"};return e.display=0===t?"block":"none",e.width=Math.floor(this.resizeRatio*this.info.iw)+"px",e.height=Math.floor(this.resizeRatio*this.info.ih)+"px",e.overflow="hidden",e},makeKpdStyles(){const A={position:"absolute",whitSpace:"normal"};return this.info&&(A.width=Math.floor(this.resizeRatio*this.info.iw)+"px",A.height=Math.floor(this.resizeRatio*this.info.ih)+"px"),A},makeKpdWrapStyles(){const A={position:"relative"};return A.width=Math.floor(this.resizeRatio*this.info.iw)+"px",A.height=Math.floor(this.resizeRatio*this.info.ih)+"px",A.whitSpace="normal",A},makeKpdButtonBaseStyles(){const A={position:"absolute"};return A.width=Math.floor(this.resizeRatio*this.info.coords.bw)+"px",A.height=Math.floor(this.resizeRatio*this.info.coords.bh)+"px",A.overflow="hidden",A},makeKpdImageMarginTop(A){let t=0;return"upper"===A.id?t=Math.floor(this.resizeRatio*this.info.ih):"special"===A.id&&(t=Math.floor(this.resizeRatio*this.info.ih*2)),t},makeKpdImageStyles(A){const t={};return t.marginTop=-1*A+"px",t.position="absolute",t.left=0,t.top=0,t.border=0,t.width=Math.floor(this.resizeRatio*this.info.iw*2)+"px",t.height=Math.floor(this.resizeRatio*this.info.ih)+"px","keyboard"===this.info.type&&(t.height=Math.floor(this.resizeRatio*this.info.ih*3)+"px"),t},makeKpdButtonStyles(A,t){const e=this.makeKpdButtonBaseStyles();return e.position="absolute",e.left=Math.floor(this.resizeRatio*A.coord.x1)+"px",e.top=Math.floor(this.resizeRatio*A.coord.y1-t)+"px",e.width=Math.floor(this.resizeRatio*(A.coord.x2-A.coord.x1))+"px",e.height=Math.floor(this.resizeRatio*(A.coord.y2-A.coord.y1))+"px",e},makeKpdTouchStyles(){const A=this.makeKpdButtonBaseStyles();return A.backgroundColor=this.info.touch.color,A.opacity=this.info.touch.opacity/100,A.filter="alpha(opacity="+this.info.touch.opacity+")",A},makeKpdPreviewStyles(){const A=this.previewStyles||{};return A.backgroundImage="url("+this.info.src+")",A},makeKpdTextStyles(){const A={},t=this.info.text.style.split(";");return t.forEach(t=>{const e=t.trim().split(":");e.length>=2&&(A[e[0].trim()]=e[1].trim())}),A.position="absolute",A.width=Math.floor(this.resizeRatio*this.info.text.dw)+"px",A.height=Math.floor(this.resizeRatio*this.info.text.dh)+"px",A.left=Math.floor(this.resizeRatio*this.info.text.dx)+"px",A.top=Math.floor(this.resizeRatio*this.info.text.dy)+"px",A.fontSize=Math.floor(this.resizeRatio*this.info.text.spanFontSize)+"px",A},makeKpdTextSpanStyles(){const A={},t=this.info.text.spanStyle.split(";");return t.forEach(t=>{const e=t.split(":");e.length>=2&&(A[e[0]]=e[1])}),A},buttonCoord(A){const t=A.coord;return t.x1+","+t.y1+","+t.x2+","+t.y2},buttonPreCoord(A){const t=A.preCoord;return t.x1+","+t.y1+","+t.x2+","+t.y2},buttonLabel(A){return A.label||"키패드"},init(){if(this.seedkey=this.keyset.seedkey,this.input.classList.contains("nppfs-npv"))return;const A=this.attr(m["a"].E2E_ATTR_NAME);"inca-double-encrypt"===m["a"].KEYPAD["kpd-e2e-mode"]&&"db"===A&&(this.seedkey=this.keyset.seedkey3rd);const t=navigator.userAgent.match(/MSIE ([0-9]{1,}[.0-9]{0,})/),e=!!t;this._isOldIe=e&&parseInt(t[1],10)<=8||document.documentMode<=8,this._isVeryOldIe=e&&parseInt(t[1],10)<=7||document.documentMode<=7},prepareKeypad(A){const t=this,e=this.input.type||"text";function i(A){return t.attr(A)}const s={},o={TYPE_KEYPAD:"p",TYPE_KEYBOARD:"b",TYPE_KOREAN:"k",ENABLE_FOCUS:"f",ENABLE_RADIO:"r",ENABLE_CHECKBOX:"c",ENABLE_TOGGLE:"t",SHOW_LAYER:"l",SHOW_BLOCK:"b",SHOW_DIVISION:"d",SHOW_EXTEND_UI:"u",EXEC_PLAIN:"l",EXEC_PASSWORD:"p",EXEC_CONFIRM:"c",EXEC_AMOUNT:"m",EXEC_ACCOUNT:"a",EXEC_NUMBER:"n",EXEC_SAFECARD:"s",EXEC_REPLACE:"r"},a="data-keypad-";s.p="p",s.m=A||"e",s.u=this.uuid,s.ev="v4",s.d="nppfs-keypad-div",s.jv=m["a"].KEYPAD.version;const n=e.toLowerCase(),r=i(a+"type")||"num";if(s.t="alpha"===r?o.TYPE_KEYBOARD:"korean"===r?o.TYPE_KOREAN:o.TYPE_KEYPAD,"korean"===r&&"password"===n)return void alert(v["e"].m46);const l=i(a+"action");s.at="account"===l?o.EXEC_ACCOUNT:"amount"===l?o.EXEC_AMOUNT:"number"===l?o.EXEC_NUMBER:"replace"===l?o.EXEC_REPLACE:"num"!==r||"text"!==n&&"tel"!==n?"alpha"===r&&"text"===n?o.EXEC_PLAIN:"password"===l||"pin"===l?o.EXEC_PASSWORD:o.EXEC_REPLACE:o.EXEC_NUMBER;const h=i(a+"extend-ui");if(h&&m["a"].KEYPAD_EXTEND_UI[h])s.st=o.SHOW_EXTEND_UI,s.dp="show";else{const A=i(a+"show");"div"===A?(s.st=o.SHOW_DIVISION,s.dp="show"):"block"===A?(s.st=o.SHOW_BLOCK,s.dp="hide"):(s.st=o.SHOW_LAYER,s.dp="hide")}const u=i(a+"useyn-type"),c=i(a+"useyn-input");if(!v["b"].isBlank(u)&&"focus"!==u&&v["b"].isBlank(c))return void alert(v["e"].m77.replace("%p1%",this.elementName).replace("%p1%",a+"useyn-input"));if("toggle"===u){s.ut=o.ENABLE_TOGGLE,s.ui=c;const A=i(a+"toggle-active");let t=i(a+"toggle-on"),e=i(a+"toggle-off");t=v["b"].isBlank(t)?m["a"].KEYPAD["kpd-toggle-image-on"]:t,e=v["b"].isBlank(e)?m["a"].KEYPAD["kpd-toggle-image-off"]:e,s.ta=v["b"].isBlank(A)?"false":A,s.to=t,s.tf=e;let n=!1;this.parent.$refs&&Object.keys(this.parent.$refs).some(A=>{const t=this.parent.$refs[A];return!t||A!==c||(n=!0,this.useynInput=t,!1)}),n||(console.log("지정된 사용여부설정 입력양식을 찾을 수 없습니다. Vue에서는 동적 사용여부설정 자동생성 기능이 제공되지 않습니다."),s.ut=o.ENABLE_FOCUS)}else"checkbox"===u||"radio"===u?(console.log("ratio 타입의 사용여부설정 기능은 Vue에서는 제공되지 않습니다."),s.ut=o.ENABLE_FOCUS):(s.ut=o.ENABLE_FOCUS,this.useyn=!0,this.input.classList.remove(m["a"].KEYPAD["kpd-active-class"]),this.input.classList.add(m["a"].KEYPAD["kpd-active-class"]));const p=i(a+"input-range");"alpha"!==r||v["b"].isBlank(p)||(s.ir=p);const d=i(a+"preview");v["b"].isBlank(d)||(s.up=d),s.f=this.elementForm,s.i=this.elementName,s.il=i("maxlength"),s.ni=i(a+"next"),s.th=i(a+"theme"),s.x=i(a+"x"),s.y=i(a+"y"),s.tx=i(a+"type-x"),s.ty=i(a+"type-y"),s.cf=i(a+"enter"),s.ln=i(a+"language"),s.w=document.body.offsetWidth,s.h=document.body.offsetHeight,m["a"].KEYPAD["kpd-use-aria"]?m["a"].KEYPAD["kpd-use-aria-mobile"]?s.ar=v["c"].isMobileDevice()?"true":"false":s.ar="true":s.ar=i(a+"aria");const f=i(a+"mapping");function y(){let A=m["a"].APPLICATION_URL;if(0!==A.indexOf("http:")&&0!==A.indexOf("https:")&&0!==A.indexOf("//:")){const t=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");A=t+A}return A+"?p=p"}return v["b"].isBlank(f)||(s.um=f),s.ip=y(),!0===this.absoluteUse&&(this.useyn=!0),s},createKeypad(A){const t=this;v["b"].post(A).then(A=>{if("object"===typeof A)t.info=A.info,t.items=A.items;else if("string"===typeof A){const e=JSON.parse(A);t.info=e.info,t.items=e.items}if(this.info.dynamic&&Array.isArray(this.info.dynamic)&&this.info.dynamic.forEach((A,t)=>{let e=A.k;const i=A.v;if(e.startsWith("__KI_")){const A=this.attr(m["a"].E2E_ATTR_NAME),t=this.elementName;"inca-double-encrypt"===m["a"].KEYPAD["kpd-e2e-mode"]&&"db"===A&&(e="__KIEXT_"+t),this.infoKey=e,this.infoValue=i}else e.startsWith("__KH_")&&(this.hashKey=e)}),!t.selectedButtonGroup)if("keyboard"===t.info.type){t.selectedButtonGroup="lower";const A=t.info.range;A&&A.startsWith("lower")?t.selectedButtonGroup="lower":A&&A.startsWith("upper")?t.selectedButtonGroup="upper":A&&A.startsWith("special")&&(t.selectedButtonGroup="special")}else t.selectedButtonGroup="number";"function"===typeof m["a"].FORMATTER&&this.attr("nppfs-formatter-type")&&(this.useFormatter=!0),t.useTextPreview=t.info.text&&!0===t.info.text.use&&"on"===t.attr("data-keypad-text"),this.input.setAttribute("nppfs-npv","true"),this.input.classList.add("nppfs-npv"),m["a"].KEYPAD["kpd-multi-cursor"]&&(t.useMultiCursor=!v["c"].isMobileDevice()&&!(v["c"].win&&v["c"].sf)&&!(v["c"].win&&this._isOldIe)),this.useMultiCursor&&this.initMultiCursor(),"clear"===t.info.focusmode&&t.clear(!1),this.calculateRatio()})},handleButtonAction(A,t,e){const i=A.action;if(i)if(i.startsWith("action")){const A=i.substring(7);if(A.startsWith("show")){const t=A.substring(5);this.selectedButtonGroup=t}else if(A.startsWith("hide"))this.hide();else if(A.startsWith("close"))this.close();else if(A.startsWith("delete")){const A=this.value.value,t=this.value.hash;if(this.value.value=A.substring(0,A.length-1),this.value.hash=t.substring(0,t.length-96),this.value.formatted=this.value.value,"amount"===this.attr("data-keypad-action"))this.value.formatted=v["b"].comma(this.value.value);else if("undefined"!==typeof m["a"].FORMATTER&&"function"===typeof m["a"].FORMATTER){const A=this.attr("nppfs-formatter-type");this.value.formatted=A?m["a"].FORMATTER(A,this.value.value,!0):this.value.value}this.textPreview=this.useTextPreview?this.value.formatted:this.value.value,this.$emit("update",this.val())}else if(A.startsWith("clear"))this.value.value="",this.value.hash="",this.value.formatted="",this.useTextPreview&&(this.textPreview=""),this.$emit("update",this.val());else if(A.startsWith("enter"))this.doEnter();else if(A.startsWith("refresh")){const A=this.prepareKeypad("s");A.n=this.info.keypadUuid,this.createKeypad(A)}else if(A.startsWith("link")){const t=A.split("|");let e="";const i=[],s=t[1];if(t.length>3){for(let A=2;A<t.length;A++)i.push(t[A]);e=i.join("|")}else e=t[2];window.open(e,s)}}else if(i.startsWith("data")){const s=i.substring(5);!0!==this.info.touch.use||this.useMultiCursor||this.touch(A,v["b"].n2b(this.info.touch.touchEventMode,"default"),v["b"].n2b(this.info.touch.touchEventImage,"default"),t,e),!0!==this.info.preview.use||this.useMultiCursor||this.preview(A);const o=parseInt(this.attr("maxlength"),10)||0,a=s.includes(":")?s.indexOf(":"):40,n=s.substring(0,a);let r=a>=0&&s.length>a+1?s.substring(a+1):"*";if("korean"===n){if(r=String.fromCharCode(r),r.charCodeAt(0)<128)this.textValue=this.textValue+r,this.hashValue=this.hashValue+r;else{const A=this.hashValue+r,t=v["d"].splitWord(A,2),e=v["d"].composeHangul(t[1]);this.textValue=t[0]+e,this.hashValue=t[0]+e}this.textValue=this.hashValue,this.useTextPreview&&(this.textPreview=this.textValue)}else{const A=v["b"].encrypt(n,v["b"].hexDecode(this.seedkey),"ECB");if(0===r.indexOf("p")&&(r=String.fromCharCode(parseInt(r.substring(1)))),(o<=0||this.value.value.length<o)&&(this.value.value+=r,this.value.hash+=A),this.value.formatted=this.value.value,"amount"===this.attr("data-keypad-action"))this.value.formatted=v["b"].comma(this.value.value);else if("undefined"!==typeof m["a"].FORMATTER&&"function"===typeof m["a"].FORMATTER){const A=this.attr("nppfs-formatter-type");this.value.formatted=A?m["a"].FORMATTER(A,this.value.value,!0):this.value.value}this.textPreview=this.useTextPreview?this.value.formatted:this.value.value;const t=this.attr("data-keypad-next"),e=this.value.hash.length/96;o>0&&e>=o&&!v["b"].isBlank(t)&&("__hide__"===t?this.hide():"__doenter__"===t?this.doEnter():document.getElementById(t).focus())}"keyboard"===this.info.type&&!1===this.info.capslock&&!0===this.info.shift&&"upper"===this.selectedButtonGroup&&(this.info.range?this.info.range.startsWith("lower")?this.selectedButtonGroup="lower":this.info.range.startsWith("upper")?this.selectedButtonGroup="upper":this.info.range.startsWith("special")?this.selectedButtonGroup="special":this.selectedButtonGroup="lower":this.selectedButtonGroup="lower"),this.useMultiCursor&&(this.showMultiCursorCover=!0),this.$emit("update",this.val())}},doEnter(){if("hideall"===this.info.enter)this.$emit("hideall");else if("hide"===this.info.enter)this.hide();else if(this.info.enter.startsWith("function")){const t=this.info.enter.substring(9);if("hide"===t)this.hide();else if("hideall"===t)this.$emit("hideall");else try{window.execScript?window.execScript(t):alert("엔터키에 의한 자바스크립트 실행은 보안정책으로 인해 차단되었습니다.")}catch(A){console.log(A)}}else console.log("Form Submit기능은 Vue에서는 제공되지 않습니다.")},touch(A,t,e,i,s){if(v["b"].isNull(A))return;const o=this.info.touch;let a=0;"upper"===i.id?a=this.info.ih:"special"===i.id&&(a=2*this.info.ih);const n=this.$el.getElementsByClassName("touch1");if(n&&n.length>0)if("preview"===e)this.touchPreview(n,A,a);else{const t=A.coord;n[0].style.left=Math.floor(this.resizeRatio*t.x1)+"px",n[0].style.top=Math.floor(this.resizeRatio*(t.y1-a))+"px",n[0].style.opacity=o.opacity/100,n[0].style.backgroundColor=o.color}const r=this.$el.getElementsByClassName("touch2");if(r&&r.length>0)if("single"!==t){const A=[];i.buttons.forEach((t,e)=>{"data"===t.type&&e!==s&&A.push(t)});const t=A.length<=2?0:Math.round(Math.random()*A.length*10)%A.length,n=A[t];if("preview"===e)this.touchPreview(r,n,a);else{const A=n.coord;r[0].style.left=Math.floor(this.resizeRatio*A.x1)+"px",r[0].style.top=Math.floor(this.resizeRatio*(A.y1-a))+"px",r[0].style.opacity=o.opacity/100,r[0].style.backgroundColor=o.color}r[0].style.display="block"}else r[0].style.display="none";this.touchDuration=o.timeout,this.showTouchDiv=!0},touchPreview(A,t,e){const i=t.coord,s=t.preCoord,o=Math.ceil(s.x1),a=Math.ceil(s.y1),n=Math.ceil(s.x2),r=Math.ceil(s.y2),l=n-o,h=r-a;A[0].style.backgroundColor="unset",A[0].style.left=Math.floor(this.resizeRatio*i.x1)+"px",A[0].style.top=Math.floor(this.resizeRatio*(i.y1-e))+"px",A[0].style.width=Math.floor(this.resizeRatio*l)+"px",A[0].style.height=Math.floor(this.resizeRatio*h)+"px",A[0].style.backgroundImage="url("+this.info.src+")",A[0].style.backgroundRepeat="no-repeat",A[0].style.backgroundPosition=Math.floor(-1*this.resizeRatio*o)+"px "+Math.floor(-1*this.resizeRatio*a)+"px";const u=Math.floor(this.resizeRatio*this.info.iw*2);let c=Math.floor(this.resizeRatio*this.info.ih);"keyboard"===this.info.type&&(c=Math.floor(this.resizeRatio*this.info.ih*3)),A[0].style.backgroundSize=u+"px "+c+"px"},onTouchBeforeEnter(A){this.stopTouchTransition=!0,this.touchTransitionTimer&&(clearInterval(this.touchTransitionTimer),this.touchTransitionTimer=null)},onTouchEnter(A,t){A.style.opacity=1,t()},onTouchAfterEnter(A){this.showTouchDiv=!1},onTouchBeforeLeave(A){A.style.opacity=1},onTouchLeave(A,t){const e=1/(this.touchDuration/50);let i=1;A.style.opacity=i,this.touchTransitionTimer=setInterval((function(){if(this.stopTouchTransition)return clearInterval(this.touchTransitionTimer),this.touchTransitionTimer=null,this.stopTouchTransition=!1,void t();i-=e,A.style.opacity=i,i<0&&(A.style.opacity=0,i=0,clearInterval(this.touchTransitionTimer),this.touchTransitionTimer=null,t())}),50)},onTouchAfterLeave(A,t){},preview(A){const t=A.preCoord,e=Math.ceil(t.x1),i=Math.ceil(t.y1),s=Math.ceil(t.x2),o=Math.ceil(t.y2),a=s-e,n=o-i,r=4,l=m["a"].KEYPAD["kpd-preview-border"]||"2",h={position:"absolute",backgroundRepeat:"no-repeat"};h.left=Math.floor(this.resizeRatio*(-1*a/2))+"px",h.top=Math.floor(this.resizeRatio*r)+"px",h.width=Math.floor(this.resizeRatio*(a-2*l))+"px",h.height=Math.floor(this.resizeRatio*(n-2*l))+"px",h.backgroundPosition=Math.floor(-1*this.resizeRatio*(e+4-l))+"px "+Math.floor(-1*this.resizeRatio*(i+4-l))+"px";const u=Math.floor(this.resizeRatio*this.info.iw*2);let c=Math.floor(this.resizeRatio*this.info.ih);"keyboard"===this.info.type&&(c=Math.floor(this.resizeRatio*this.info.ih*3)),h.backgroundSize=u+"px "+c+"px",this.previewStyles=h,this.isPreviewAnimating&&(this.stopPreviewTransition=!0),this.showPreview=!0},onPreviewBeforeEnter(A){A.style.opacity=0,this.isPreviewAnimating=!0},onPreviewEnter(A,t){if(this.previewTransitionTimer)return clearInterval(this.previewTransitionTimer),this.previewTransitionTimer=null,void t();const e=1;let i=0;A.style.opacity=i,this.previewTransitionTimer=setInterval((function(){i+=e,A.style.opacity=i,i>=1&&(A.style.opacity=1,i=1,clearInterval(this.previewTransitionTimer),this.previewTransitionTimer=null,t())}),100)},onPreviewAfterEnter(A){A.style.opacity=1,this.showPreview=!1},onPreviewBeforeLeave(A){this.isPreviewAnimating=!0,A.style.opacity=1},onPreviewLeave(A,t){const e=1/(this.previewDuration/100);let i=1;A.style.opacity=i,this.previewTransitionTimer&&(clearInterval(this.previewTransitionTimer),this.previewTransitionTimer=null),this.previewTransitionTimer=setInterval((function(){if(this.stopPreviewTransition)return clearInterval(this.previewTransitionTimer),this.previewTransitionTimer=null,this.stopPreviewTransition=!1,void t();i-=e,A.style.opacity=i,i<0&&(A.style.opacity=0,i=0,clearInterval(this.previewTransitionTimer),this.previewTransitionTimer=null,t())}),100)},onPreviewAfterLeave(A,t){this.isPreviewAnimating=!1,A.style.opacity=0},initMultiCursor(){},onMultiCursorMove(A){if(this.useMultiCursor){const t=this.$el.getElementsByClassName("kpd-multi-cursor"),e=t&&t.length>0?t[0]:null;if(!e)return;const i=window.scrollX||document.documentElement.scrollLeft,s=window.scrollY||document.documentElement.scrollTop,o=Math.floor(this.resizeRatio*this.info.iw/2),a=Math.floor(this.resizeRatio*this.info.ih/2),n=e.getBoundingClientRect(),r=n.left+o-A.pageX+i,l=n.top+a-A.pageY+s,h=o-r,u=a-l,c=o+r,p=a+l,d=e.getElementsByClassName("cursor1"),f=e.getElementsByClassName("cursor2");d&&d.length>0&&(d[0].style.cursor="none",d[0].style.left=h+"px",d[0].style.top=u+"px"),f&&f.length>0&&(f[0].style.cursor="none",f[0].style.left=c+"px",f[0].style.top=p+"px")}},onMultiCursorClick(){this.showMultiCursorCover=!1},serialize(){const A={};return this.useyn&&(A[this.hashKey]=this.value.hash,A[this.infoKey]=this.infoValue,this.attr("nppfs-formatter-type")?A[this.elementName]=this.value.formatted:A[this.elementName]=this.value.value,A[this.info.inputs.useyn]="Y"),A},val(){return{text:this.value.value,hash:this.value.hash,formatted:this.value.formatted,hashKey:this.hashKey,infoKey:this.infoKey,infoValue:this.infoValue,selectedButtonGroup:this.selectedButtonGroup,useTextPreview:this.useTextPreview,useFormatter:this.useFormatter}},getHash(){return this.value.hash},getInfo(){return this.infoValue},getText(){return this.value.formatted},getValue(){return this.value.value},clear(A){(!A||A&&"clear"===this.info.focusmode)&&this.$nextTick(()=>{this.value.value="",this.value.hash="",this.value.formatted="",this.textPreview="",this.setValue(this.input,""),this.$emit("update","")})},setValue(A,t){A.value=t},setColor(A,t,e){A.style.color=t,A.style.backgroundColor=e},show(){this.hide(),this.isVisible=!0,this.calculateRatio(),this.calculatePosition(),this.setColor(this.input,m["a"].COLOR["on-text-color"],m["a"].COLOR["on-back-color"]),this.focus(),this.$emit("show")},hide(){this.isVisible=!1,this.useyn&&this.setColor(this.input,m["a"].COLOR["off-text-color"],m["a"].COLOR["off-back-color"]),this.$emit("hide")},close(){m["a"].KEYPAD["kpd-close-hide"]||this.setUseYn(!1),this.hide()},focus(){if(this.isUseAria){const A=this.$refs[this.info.keypadUuid+"_bg_img"];A&&this.$nextTick((function(){A.$el?A.$el.focus():A.focus()}))}},isUseYn(){return this.useyn},setUseYn(A){const t=this,e=t.useyn;t.useyn=A,e!==t.useyn&&(t.clear(!1),t.hide()),t.input.classList.remove(m["a"].SECUKEY["skb-active-class"]),t.input.classList.remove(m["a"].KEYPAD["kpd-active-class"]),t.input.classList.remove("keyboard"),t.input.classList.remove("mouse"),t.useyn?(t.input.classList.add(m["a"].KEYPAD["kpd-active-class"]),t.input.classList.add("mouse")):t.input.classList.add("keyboard"),t.useynInput&&(t.useynInput.classList.remove(m["a"].SECUKEY["skb-active-class"]),t.useynInput.classList.remove(m["a"].KEYPAD["kpd-active-class"]),t.useynInput.classList.remove("keyboard"),t.useynInput.classList.remove("mouse"),t.useyn?(t.useynInput.classList.add(m["a"].KEYPAD["kpd-active-class"]),t.useynInput.classList.add("mouse")):t.useynInput.classList.add("keyboard"))},width(){return this.realWidth},height(){return this.realHeight}}},w=(e("521f"),e("d5c7"),e("6b0d")),g=e.n(w);const E=g()(b,[["render",y],["__scopeId","data-v-e6521e34"]]);t["default"]=E},d2be:function(A,t,e){},d5c7:function(A,t,e){"use strict";e("d2be")},eeda:function(A,t,e){}}]);
//# sourceMappingURL=chunk-ede19774.51828596.js.map